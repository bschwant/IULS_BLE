ARM GAS  /var/folders/lt/l_qrc8c54t93n_phsj7cf5tc0000gn/T//ccWgb8h1.s 			page 1


   1              		.cpu cortex-m4
   2              		.eabi_attribute 27, 1
   3              		.eabi_attribute 28, 1
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 1
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.file	"date_time_set.c"
  14              		.text
  15              	.Ltext0:
  16              		.cfi_sections	.debug_frame
  17              		.section	.rodata.date_set.str1.4,"aMS",%progbits,1
  18              		.align	2
  19              	.LC1:
  20 0000 4E4F4B3A 		.ascii	"NOK: args == NULL\000"
  20      20617267 
  20      73203D3D 
  20      204E554C 
  20      4C00
  21 0012 0000     		.align	2
  22              	.LC2:
  23 0014 2C00     		.ascii	",\000"
  24 0016 0000     		.align	2
  25              	.LC3:
  26 0018 4E4F4B3A 		.ascii	"NOK: token == NULL\000"
  26      20746F6B 
  26      656E203D 
  26      3D204E55 
  26      4C4C00
  27 002b 00       		.align	2
  28              	.LC4:
  29 002c 4E4F4B3A 		.ascii	"NOK: token == 0 or > max\000"
  29      20746F6B 
  29      656E203D 
  29      3D203020 
  29      6F72203E 
  30 0045 000000   		.align	2
  31              	.LC5:
  32 0048 4F6B00   		.ascii	"Ok\000"
  33 004b 00       		.align	2
  34              	.LC6:
  35 004c 4572726F 		.ascii	"Error\000"
  35      7200
  36 0052 0000     		.align	2
  37              	.LC7:
  38 0054 42757379 		.ascii	"Busy\000"
  38      00
  39 0059 000000   		.align	2
  40              	.LC8:
  41 005c 54696D65 		.ascii	"Timeout\000"
  41      6F757400 
  42              		.align	2
ARM GAS  /var/folders/lt/l_qrc8c54t93n_phsj7cf5tc0000gn/T//ccWgb8h1.s 			page 2


  43              	.LC9:
  44 0064 556E6B6E 		.ascii	"Unknown\000"
  44      6F776E00 
  45              		.align	2
  46              	.LC0:
  47 006c 0C1F3300 		.ascii	"\014\0373\000"
  48              		.section	.text.date_set,"ax",%progbits
  49              		.align	1
  50              		.global	date_set
  51              		.arch armv7e-m
  52              		.syntax unified
  53              		.thumb
  54              		.thumb_func
  55              		.fpu fpv4-sp-d16
  57              	date_set:
  58              	.LVL0:
  59              	.LFB1825:
  60              		.file 1 "Core/Src/date_time_set.c"
   1:Core/Src/date_time_set.c **** /**
   2:Core/Src/date_time_set.c ****  *  Author: Brian Schwantes
   3:Core/Src/date_time_set.c ****  *  Date: 04/6/2022
   4:Core/Src/date_time_set.c ****  * 
   5:Core/Src/date_time_set.c ****  *  File contains the functionality to set the date and time as well as retreieve them
   6:Core/Src/date_time_set.c ****  **/
   7:Core/Src/date_time_set.c **** 
   8:Core/Src/date_time_set.c **** #include "date_time_set.h"
   9:Core/Src/date_time_set.c **** 
  10:Core/Src/date_time_set.c **** extern RTC_HandleTypeDef hrtc;
  11:Core/Src/date_time_set.c **** 
  12:Core/Src/date_time_set.c **** // New implementation of weak ds_command in command.c
  13:Core/Src/date_time_set.c **** void ds_command(char *args) {
  14:Core/Src/date_time_set.c ****     if (!args) {
  15:Core/Src/date_time_set.c ****         printf("NOK\n\r");
  16:Core/Src/date_time_set.c ****         return;
  17:Core/Src/date_time_set.c ****     }
  18:Core/Src/date_time_set.c ****     else {
  19:Core/Src/date_time_set.c ****         printf("ds command\n\r");
  20:Core/Src/date_time_set.c ****         date_set(args);
  21:Core/Src/date_time_set.c ****   }
  22:Core/Src/date_time_set.c ****   printf("OK\n\r");
  23:Core/Src/date_time_set.c **** }
  24:Core/Src/date_time_set.c **** 
  25:Core/Src/date_time_set.c **** // New implementation of weak ts_command in command.c
  26:Core/Src/date_time_set.c **** void ts_command(char *args) {
  27:Core/Src/date_time_set.c ****     if (!args) {
  28:Core/Src/date_time_set.c ****         printf("NOK\n\r");
  29:Core/Src/date_time_set.c ****         return;
  30:Core/Src/date_time_set.c ****     }
  31:Core/Src/date_time_set.c ****     else {
  32:Core/Src/date_time_set.c ****         printf("ts command\n\r");
  33:Core/Src/date_time_set.c ****         time_set(args);
  34:Core/Src/date_time_set.c ****   }
  35:Core/Src/date_time_set.c ****   printf("OK\n\r");
  36:Core/Src/date_time_set.c **** }
  37:Core/Src/date_time_set.c **** 
  38:Core/Src/date_time_set.c **** /**
  39:Core/Src/date_time_set.c ****  *  date_set: Sets the date of RTC based on user input
ARM GAS  /var/folders/lt/l_qrc8c54t93n_phsj7cf5tc0000gn/T//ccWgb8h1.s 			page 3


  40:Core/Src/date_time_set.c ****  */
  41:Core/Src/date_time_set.c **** void date_set(char *args) {
  61              		.loc 1 41 27 view -0
  62              		.cfi_startproc
  63              		@ args = 0, pretend = 0, frame = 8
  64              		@ frame_needed = 0, uses_anonymous_args = 0
  65              		.loc 1 41 27 is_stmt 0 view .LVU1
  66 0000 30B5     		push	{r4, r5, lr}
  67              	.LCFI0:
  68              		.cfi_def_cfa_offset 12
  69              		.cfi_offset 4, -12
  70              		.cfi_offset 5, -8
  71              		.cfi_offset 14, -4
  72 0002 83B0     		sub	sp, sp, #12
  73              	.LCFI1:
  74              		.cfi_def_cfa_offset 24
  42:Core/Src/date_time_set.c ****     RTC_DateTypeDef date = {0};
  75              		.loc 1 42 5 is_stmt 1 view .LVU2
  76              		.loc 1 42 21 is_stmt 0 view .LVU3
  77 0004 0023     		movs	r3, #0
  78 0006 0193     		str	r3, [sp, #4]
  43:Core/Src/date_time_set.c ****     uint8_t max_date_values[] = {12,31,2099};
  79              		.loc 1 43 5 is_stmt 1 view .LVU4
  80              		.loc 1 43 13 is_stmt 0 view .LVU5
  81 0008 284B     		ldr	r3, .L21
  82 000a 1B68     		ldr	r3, [r3]
  83 000c ADF80030 		strh	r3, [sp]	@ movhi
  84 0010 1B0C     		lsrs	r3, r3, #16
  85 0012 8DF80230 		strb	r3, [sp, #2]
  44:Core/Src/date_time_set.c **** 
  45:Core/Src/date_time_set.c **** 
  46:Core/Src/date_time_set.c ****     if(args == NULL) {
  86              		.loc 1 46 5 is_stmt 1 view .LVU6
  87              		.loc 1 46 7 is_stmt 0 view .LVU7
  88 0016 28B1     		cbz	r0, .L18
  47:Core/Src/date_time_set.c ****         printf("NOK: args == NULL");
  48:Core/Src/date_time_set.c ****         return;
  49:Core/Src/date_time_set.c ****     }
  50:Core/Src/date_time_set.c **** 
  51:Core/Src/date_time_set.c ****     char *token = strtok(args, ",");
  89              		.loc 1 51 5 is_stmt 1 view .LVU8
  90              		.loc 1 51 19 is_stmt 0 view .LVU9
  91 0018 2549     		ldr	r1, .L21+4
  92 001a FFF7FEFF 		bl	strtok
  93              	.LVL1:
  52:Core/Src/date_time_set.c ****     uint8_t *head = &date.WeekDay;
  94              		.loc 1 52 5 is_stmt 1 view .LVU10
  53:Core/Src/date_time_set.c ****     uint8_t a_value = 0;
  95              		.loc 1 53 5 view .LVU11
  54:Core/Src/date_time_set.c ****     for (uint8_t i = 0; i < 3; i++){
  96              		.loc 1 54 5 view .LVU12
  97              	.LBB2:
  98              		.loc 1 54 10 view .LVU13
  99              		.loc 1 54 18 is_stmt 0 view .LVU14
 100 001e 0024     		movs	r4, #0
 101              	.LBE2:
  52:Core/Src/date_time_set.c ****     uint8_t *head = &date.WeekDay;
ARM GAS  /var/folders/lt/l_qrc8c54t93n_phsj7cf5tc0000gn/T//ccWgb8h1.s 			page 4


 102              		.loc 1 52 14 view .LVU15
 103 0020 01AD     		add	r5, sp, #4
 104              	.LVL2:
 105              	.LBB3:
 106              		.loc 1 54 5 view .LVU16
 107 0022 10E0     		b	.L4
 108              	.LVL3:
 109              	.L18:
 110              		.loc 1 54 5 view .LVU17
 111              	.LBE3:
  47:Core/Src/date_time_set.c ****         return;
 112              		.loc 1 47 9 is_stmt 1 view .LVU18
 113 0024 2348     		ldr	r0, .L21+8
 114              	.LVL4:
  47:Core/Src/date_time_set.c ****         return;
 115              		.loc 1 47 9 is_stmt 0 view .LVU19
 116 0026 FFF7FEFF 		bl	printf
 117              	.LVL5:
  48:Core/Src/date_time_set.c ****     }
 118              		.loc 1 48 9 is_stmt 1 view .LVU20
 119              	.L1:
  55:Core/Src/date_time_set.c ****         if (token == NULL)
  56:Core/Src/date_time_set.c ****         {
  57:Core/Src/date_time_set.c ****             printf("NOK: token == NULL");
  58:Core/Src/date_time_set.c ****             return;
  59:Core/Src/date_time_set.c ****         }
  60:Core/Src/date_time_set.c ****         a_value = atoi(token);
  61:Core/Src/date_time_set.c ****         if (a_value == 0 || a_value > max_date_values[i]){
  62:Core/Src/date_time_set.c ****             printf("NOK: token == 0 or > max");
  63:Core/Src/date_time_set.c ****             return; 
  64:Core/Src/date_time_set.c ****         }
  65:Core/Src/date_time_set.c ****         *(++head) = a_value;
  66:Core/Src/date_time_set.c ****         token = strtok(NULL, ",");
  67:Core/Src/date_time_set.c ****     }
  68:Core/Src/date_time_set.c **** 
  69:Core/Src/date_time_set.c ****     // Set date and check for HAL status
  70:Core/Src/date_time_set.c ****     HAL_StatusTypeDef status = HAL_RTC_SetDate(&hrtc, &date, RTC_HOURFORMAT_24);
  71:Core/Src/date_time_set.c ****     switch (status)
  72:Core/Src/date_time_set.c ****     {
  73:Core/Src/date_time_set.c ****     case HAL_OK:
  74:Core/Src/date_time_set.c ****         printf("Ok");
  75:Core/Src/date_time_set.c ****         break;
  76:Core/Src/date_time_set.c ****     case HAL_ERROR:
  77:Core/Src/date_time_set.c ****         printf("Error");
  78:Core/Src/date_time_set.c ****         break;
  79:Core/Src/date_time_set.c ****     case HAL_BUSY:
  80:Core/Src/date_time_set.c ****         printf("Busy");
  81:Core/Src/date_time_set.c ****         break;
  82:Core/Src/date_time_set.c ****     case HAL_TIMEOUT:
  83:Core/Src/date_time_set.c ****         printf("Timeout");
  84:Core/Src/date_time_set.c ****         break;
  85:Core/Src/date_time_set.c ****     default:
  86:Core/Src/date_time_set.c ****         printf("Unknown");
  87:Core/Src/date_time_set.c ****         break;
  88:Core/Src/date_time_set.c ****     }
  89:Core/Src/date_time_set.c **** }
 120              		.loc 1 89 1 is_stmt 0 view .LVU21
ARM GAS  /var/folders/lt/l_qrc8c54t93n_phsj7cf5tc0000gn/T//ccWgb8h1.s 			page 5


 121 002a 03B0     		add	sp, sp, #12
 122              	.LCFI2:
 123              		.cfi_remember_state
 124              		.cfi_def_cfa_offset 12
 125              		@ sp needed
 126 002c 30BD     		pop	{r4, r5, pc}
 127              	.LVL6:
 128              	.L20:
 129              	.LCFI3:
 130              		.cfi_restore_state
 131              	.LBB4:
  57:Core/Src/date_time_set.c ****             return;
 132              		.loc 1 57 13 is_stmt 1 view .LVU22
 133 002e 2248     		ldr	r0, .L21+12
 134              	.LVL7:
  57:Core/Src/date_time_set.c ****             return;
 135              		.loc 1 57 13 is_stmt 0 view .LVU23
 136 0030 FFF7FEFF 		bl	printf
 137              	.LVL8:
  58:Core/Src/date_time_set.c ****         }
 138              		.loc 1 58 13 is_stmt 1 view .LVU24
 139 0034 F9E7     		b	.L1
 140              	.L7:
  65:Core/Src/date_time_set.c ****         token = strtok(NULL, ",");
 141              		.loc 1 65 9 discriminator 2 view .LVU25
 142              	.LVL9:
  65:Core/Src/date_time_set.c ****         token = strtok(NULL, ",");
 143              		.loc 1 65 19 is_stmt 0 discriminator 2 view .LVU26
 144 0036 05F8010F 		strb	r0, [r5, #1]!
 145              	.LVL10:
  66:Core/Src/date_time_set.c ****     }
 146              		.loc 1 66 9 is_stmt 1 discriminator 2 view .LVU27
  66:Core/Src/date_time_set.c ****     }
 147              		.loc 1 66 17 is_stmt 0 discriminator 2 view .LVU28
 148 003a 1D49     		ldr	r1, .L21+4
 149 003c 0020     		movs	r0, #0
 150 003e FFF7FEFF 		bl	strtok
 151              	.LVL11:
  54:Core/Src/date_time_set.c ****         if (token == NULL)
 152              		.loc 1 54 32 is_stmt 1 discriminator 2 view .LVU29
  54:Core/Src/date_time_set.c ****         if (token == NULL)
 153              		.loc 1 54 33 is_stmt 0 discriminator 2 view .LVU30
 154 0042 0134     		adds	r4, r4, #1
 155              	.LVL12:
  54:Core/Src/date_time_set.c ****         if (token == NULL)
 156              		.loc 1 54 33 discriminator 2 view .LVU31
 157 0044 E4B2     		uxtb	r4, r4
 158              	.LVL13:
 159              	.L4:
  54:Core/Src/date_time_set.c ****         if (token == NULL)
 160              		.loc 1 54 25 is_stmt 1 discriminator 1 view .LVU32
  54:Core/Src/date_time_set.c ****         if (token == NULL)
 161              		.loc 1 54 5 is_stmt 0 discriminator 1 view .LVU33
 162 0046 022C     		cmp	r4, #2
 163 0048 10D8     		bhi	.L19
  55:Core/Src/date_time_set.c ****         {
 164              		.loc 1 55 9 is_stmt 1 view .LVU34
ARM GAS  /var/folders/lt/l_qrc8c54t93n_phsj7cf5tc0000gn/T//ccWgb8h1.s 			page 6


  55:Core/Src/date_time_set.c ****         {
 165              		.loc 1 55 12 is_stmt 0 view .LVU35
 166 004a 0028     		cmp	r0, #0
 167 004c EFD0     		beq	.L20
  60:Core/Src/date_time_set.c ****         if (a_value == 0 || a_value > max_date_values[i]){
 168              		.loc 1 60 9 is_stmt 1 view .LVU36
  60:Core/Src/date_time_set.c ****         if (a_value == 0 || a_value > max_date_values[i]){
 169              		.loc 1 60 19 is_stmt 0 view .LVU37
 170 004e FFF7FEFF 		bl	atoi
 171              	.LVL14:
  61:Core/Src/date_time_set.c ****             printf("NOK: token == 0 or > max");
 172              		.loc 1 61 9 is_stmt 1 view .LVU38
  61:Core/Src/date_time_set.c ****             printf("NOK: token == 0 or > max");
 173              		.loc 1 61 12 is_stmt 0 view .LVU39
 174 0052 10F0FF00 		ands	r0, r0, #255
 175              	.LVL15:
  61:Core/Src/date_time_set.c ****             printf("NOK: token == 0 or > max");
 176              		.loc 1 61 12 view .LVU40
 177 0056 05D0     		beq	.L6
  61:Core/Src/date_time_set.c ****             printf("NOK: token == 0 or > max");
 178              		.loc 1 61 54 discriminator 1 view .LVU41
 179 0058 02AB     		add	r3, sp, #8
 180 005a 2344     		add	r3, r3, r4
 181 005c 13F8083C 		ldrb	r3, [r3, #-8]	@ zero_extendqisi2
  61:Core/Src/date_time_set.c ****             printf("NOK: token == 0 or > max");
 182              		.loc 1 61 26 discriminator 1 view .LVU42
 183 0060 8342     		cmp	r3, r0
 184 0062 E8D2     		bcs	.L7
 185              	.L6:
  62:Core/Src/date_time_set.c ****             return; 
 186              		.loc 1 62 13 is_stmt 1 view .LVU43
 187 0064 1548     		ldr	r0, .L21+16
 188 0066 FFF7FEFF 		bl	printf
 189              	.LVL16:
  63:Core/Src/date_time_set.c ****         }
 190              		.loc 1 63 13 view .LVU44
 191 006a DEE7     		b	.L1
 192              	.LVL17:
 193              	.L19:
  63:Core/Src/date_time_set.c ****         }
 194              		.loc 1 63 13 is_stmt 0 view .LVU45
 195              	.LBE4:
  70:Core/Src/date_time_set.c ****     switch (status)
 196              		.loc 1 70 5 is_stmt 1 view .LVU46
  70:Core/Src/date_time_set.c ****     switch (status)
 197              		.loc 1 70 32 is_stmt 0 view .LVU47
 198 006c 0022     		movs	r2, #0
 199 006e 01A9     		add	r1, sp, #4
 200 0070 1348     		ldr	r0, .L21+20
 201              	.LVL18:
  70:Core/Src/date_time_set.c ****     switch (status)
 202              		.loc 1 70 32 view .LVU48
 203 0072 FFF7FEFF 		bl	HAL_RTC_SetDate
 204              	.LVL19:
  71:Core/Src/date_time_set.c ****     {
 205              		.loc 1 71 5 is_stmt 1 view .LVU49
 206 0076 0328     		cmp	r0, #3
ARM GAS  /var/folders/lt/l_qrc8c54t93n_phsj7cf5tc0000gn/T//ccWgb8h1.s 			page 7


 207 0078 13D8     		bhi	.L9
 208 007a DFE800F0 		tbb	[pc, r0]
 209              	.L11:
 210 007e 02       		.byte	(.L14-.L11)/2
 211 007f 06       		.byte	(.L13-.L11)/2
 212 0080 0A       		.byte	(.L12-.L11)/2
 213 0081 0E       		.byte	(.L10-.L11)/2
 214              		.p2align 1
 215              	.L14:
  74:Core/Src/date_time_set.c ****         break;
 216              		.loc 1 74 9 view .LVU50
 217 0082 1048     		ldr	r0, .L21+24
 218              	.LVL20:
  74:Core/Src/date_time_set.c ****         break;
 219              		.loc 1 74 9 is_stmt 0 view .LVU51
 220 0084 FFF7FEFF 		bl	printf
 221              	.LVL21:
  75:Core/Src/date_time_set.c ****     case HAL_ERROR:
 222              		.loc 1 75 9 is_stmt 1 view .LVU52
 223 0088 CFE7     		b	.L1
 224              	.LVL22:
 225              	.L13:
  77:Core/Src/date_time_set.c ****         break;
 226              		.loc 1 77 9 view .LVU53
 227 008a 0F48     		ldr	r0, .L21+28
 228              	.LVL23:
  77:Core/Src/date_time_set.c ****         break;
 229              		.loc 1 77 9 is_stmt 0 view .LVU54
 230 008c FFF7FEFF 		bl	printf
 231              	.LVL24:
  78:Core/Src/date_time_set.c ****     case HAL_BUSY:
 232              		.loc 1 78 9 is_stmt 1 view .LVU55
 233 0090 CBE7     		b	.L1
 234              	.LVL25:
 235              	.L12:
  80:Core/Src/date_time_set.c ****         break;
 236              		.loc 1 80 9 view .LVU56
 237 0092 0E48     		ldr	r0, .L21+32
 238              	.LVL26:
  80:Core/Src/date_time_set.c ****         break;
 239              		.loc 1 80 9 is_stmt 0 view .LVU57
 240 0094 FFF7FEFF 		bl	printf
 241              	.LVL27:
  81:Core/Src/date_time_set.c ****     case HAL_TIMEOUT:
 242              		.loc 1 81 9 is_stmt 1 view .LVU58
 243 0098 C7E7     		b	.L1
 244              	.LVL28:
 245              	.L10:
  83:Core/Src/date_time_set.c ****         break;
 246              		.loc 1 83 9 view .LVU59
 247 009a 0D48     		ldr	r0, .L21+36
 248              	.LVL29:
  83:Core/Src/date_time_set.c ****         break;
 249              		.loc 1 83 9 is_stmt 0 view .LVU60
 250 009c FFF7FEFF 		bl	printf
 251              	.LVL30:
  84:Core/Src/date_time_set.c ****     default:
ARM GAS  /var/folders/lt/l_qrc8c54t93n_phsj7cf5tc0000gn/T//ccWgb8h1.s 			page 8


 252              		.loc 1 84 9 is_stmt 1 view .LVU61
 253 00a0 C3E7     		b	.L1
 254              	.LVL31:
 255              	.L9:
  86:Core/Src/date_time_set.c ****         break;
 256              		.loc 1 86 9 view .LVU62
 257 00a2 0C48     		ldr	r0, .L21+40
 258              	.LVL32:
  86:Core/Src/date_time_set.c ****         break;
 259              		.loc 1 86 9 is_stmt 0 view .LVU63
 260 00a4 FFF7FEFF 		bl	printf
 261              	.LVL33:
  87:Core/Src/date_time_set.c ****     }
 262              		.loc 1 87 9 is_stmt 1 view .LVU64
 263 00a8 BFE7     		b	.L1
 264              	.L22:
 265 00aa 00BF     		.align	2
 266              	.L21:
 267 00ac 6C000000 		.word	.LC0
 268 00b0 14000000 		.word	.LC2
 269 00b4 00000000 		.word	.LC1
 270 00b8 18000000 		.word	.LC3
 271 00bc 2C000000 		.word	.LC4
 272 00c0 00000000 		.word	hrtc
 273 00c4 48000000 		.word	.LC5
 274 00c8 4C000000 		.word	.LC6
 275 00cc 54000000 		.word	.LC7
 276 00d0 5C000000 		.word	.LC8
 277 00d4 64000000 		.word	.LC9
 278              		.cfi_endproc
 279              	.LFE1825:
 281              		.section	.rodata.ds_command.str1.4,"aMS",%progbits,1
 282              		.align	2
 283              	.LC10:
 284 0000 4E4F4B0A 		.ascii	"NOK\012\015\000"
 284      0D00
 285 0006 0000     		.align	2
 286              	.LC11:
 287 0008 64732063 		.ascii	"ds command\012\015\000"
 287      6F6D6D61 
 287      6E640A0D 
 287      00
 288 0015 000000   		.align	2
 289              	.LC12:
 290 0018 4F4B0A0D 		.ascii	"OK\012\015\000"
 290      00
 291              		.section	.text.ds_command,"ax",%progbits
 292              		.align	1
 293              		.global	ds_command
 294              		.syntax unified
 295              		.thumb
 296              		.thumb_func
 297              		.fpu fpv4-sp-d16
 299              	ds_command:
 300              	.LVL34:
 301              	.LFB1823:
  13:Core/Src/date_time_set.c ****     if (!args) {
ARM GAS  /var/folders/lt/l_qrc8c54t93n_phsj7cf5tc0000gn/T//ccWgb8h1.s 			page 9


 302              		.loc 1 13 29 view -0
 303              		.cfi_startproc
 304              		@ args = 0, pretend = 0, frame = 0
 305              		@ frame_needed = 0, uses_anonymous_args = 0
  13:Core/Src/date_time_set.c ****     if (!args) {
 306              		.loc 1 13 29 is_stmt 0 view .LVU66
 307 0000 10B5     		push	{r4, lr}
 308              	.LCFI4:
 309              		.cfi_def_cfa_offset 8
 310              		.cfi_offset 4, -8
 311              		.cfi_offset 14, -4
  14:Core/Src/date_time_set.c ****         printf("NOK\n\r");
 312              		.loc 1 14 5 is_stmt 1 view .LVU67
  14:Core/Src/date_time_set.c ****         printf("NOK\n\r");
 313              		.loc 1 14 8 is_stmt 0 view .LVU68
 314 0002 50B1     		cbz	r0, .L27
 315 0004 0446     		mov	r4, r0
  19:Core/Src/date_time_set.c ****         date_set(args);
 316              		.loc 1 19 9 is_stmt 1 view .LVU69
 317 0006 0748     		ldr	r0, .L28
 318              	.LVL35:
  19:Core/Src/date_time_set.c ****         date_set(args);
 319              		.loc 1 19 9 is_stmt 0 view .LVU70
 320 0008 FFF7FEFF 		bl	printf
 321              	.LVL36:
  20:Core/Src/date_time_set.c ****   }
 322              		.loc 1 20 9 is_stmt 1 view .LVU71
 323 000c 2046     		mov	r0, r4
 324 000e FFF7FEFF 		bl	date_set
 325              	.LVL37:
  22:Core/Src/date_time_set.c **** }
 326              		.loc 1 22 3 view .LVU72
 327 0012 0548     		ldr	r0, .L28+4
 328 0014 FFF7FEFF 		bl	printf
 329              	.LVL38:
 330              	.L23:
  23:Core/Src/date_time_set.c **** 
 331              		.loc 1 23 1 is_stmt 0 view .LVU73
 332 0018 10BD     		pop	{r4, pc}
 333              	.LVL39:
 334              	.L27:
  15:Core/Src/date_time_set.c ****         return;
 335              		.loc 1 15 9 is_stmt 1 view .LVU74
 336 001a 0448     		ldr	r0, .L28+8
 337              	.LVL40:
  15:Core/Src/date_time_set.c ****         return;
 338              		.loc 1 15 9 is_stmt 0 view .LVU75
 339 001c FFF7FEFF 		bl	printf
 340              	.LVL41:
  16:Core/Src/date_time_set.c ****     }
 341              		.loc 1 16 9 is_stmt 1 view .LVU76
 342 0020 FAE7     		b	.L23
 343              	.L29:
 344 0022 00BF     		.align	2
 345              	.L28:
 346 0024 08000000 		.word	.LC11
 347 0028 18000000 		.word	.LC12
ARM GAS  /var/folders/lt/l_qrc8c54t93n_phsj7cf5tc0000gn/T//ccWgb8h1.s 			page 10


 348 002c 00000000 		.word	.LC10
 349              		.cfi_endproc
 350              	.LFE1823:
 352              		.section	.rodata.time_set.str1.4,"aMS",%progbits,1
 353              		.align	2
 354              	.LC14:
 355 0000 4E4F4B3A 		.ascii	"NOK: args = NULL\000"
 355      20617267 
 355      73203D20 
 355      4E554C4C 
 355      00
 356 0011 000000   		.align	2
 357              	.LC13:
 358 0014 183C3C00 		.ascii	"\030<<\000"
 359              		.section	.text.time_set,"ax",%progbits
 360              		.align	1
 361              		.global	time_set
 362              		.syntax unified
 363              		.thumb
 364              		.thumb_func
 365              		.fpu fpv4-sp-d16
 367              	time_set:
 368              	.LVL42:
 369              	.LFB1826:
  90:Core/Src/date_time_set.c **** 
  91:Core/Src/date_time_set.c **** /**
  92:Core/Src/date_time_set.c ****  *  time_set: Sets the date of RTC based on user input
  93:Core/Src/date_time_set.c ****  */
  94:Core/Src/date_time_set.c **** void time_set(char *args) {
 370              		.loc 1 94 27 view -0
 371              		.cfi_startproc
 372              		@ args = 0, pretend = 0, frame = 24
 373              		@ frame_needed = 0, uses_anonymous_args = 0
 374              		.loc 1 94 27 is_stmt 0 view .LVU78
 375 0000 30B5     		push	{r4, r5, lr}
 376              	.LCFI5:
 377              		.cfi_def_cfa_offset 12
 378              		.cfi_offset 4, -12
 379              		.cfi_offset 5, -8
 380              		.cfi_offset 14, -4
 381 0002 87B0     		sub	sp, sp, #28
 382              	.LCFI6:
 383              		.cfi_def_cfa_offset 40
  95:Core/Src/date_time_set.c ****     RTC_TimeTypeDef time = {0};
 384              		.loc 1 95 5 is_stmt 1 view .LVU79
 385              		.loc 1 95 21 is_stmt 0 view .LVU80
 386 0004 0023     		movs	r3, #0
 387 0006 0193     		str	r3, [sp, #4]
 388 0008 0293     		str	r3, [sp, #8]
 389 000a 0393     		str	r3, [sp, #12]
 390 000c 0493     		str	r3, [sp, #16]
 391 000e 0593     		str	r3, [sp, #20]
  96:Core/Src/date_time_set.c ****     uint8_t max_time_values[] = {24,60,60};
 392              		.loc 1 96 5 is_stmt 1 view .LVU81
 393              		.loc 1 96 13 is_stmt 0 view .LVU82
 394 0010 284B     		ldr	r3, .L50
 395 0012 1B68     		ldr	r3, [r3]
ARM GAS  /var/folders/lt/l_qrc8c54t93n_phsj7cf5tc0000gn/T//ccWgb8h1.s 			page 11


 396 0014 ADF80030 		strh	r3, [sp]	@ movhi
 397 0018 1B0C     		lsrs	r3, r3, #16
 398 001a 8DF80230 		strb	r3, [sp, #2]
  97:Core/Src/date_time_set.c **** 
  98:Core/Src/date_time_set.c **** 
  99:Core/Src/date_time_set.c ****     if(args == NULL) {
 399              		.loc 1 99 5 is_stmt 1 view .LVU83
 400              		.loc 1 99 7 is_stmt 0 view .LVU84
 401 001e 28B1     		cbz	r0, .L47
 100:Core/Src/date_time_set.c ****         printf("NOK: args = NULL");
 101:Core/Src/date_time_set.c ****         return;
 102:Core/Src/date_time_set.c ****     }
 103:Core/Src/date_time_set.c **** 
 104:Core/Src/date_time_set.c ****     char *token = strtok(args, ",");
 402              		.loc 1 104 5 is_stmt 1 view .LVU85
 403              		.loc 1 104 19 is_stmt 0 view .LVU86
 404 0020 2549     		ldr	r1, .L50+4
 405 0022 FFF7FEFF 		bl	strtok
 406              	.LVL43:
 105:Core/Src/date_time_set.c ****     uint8_t *head = &time.Hours;
 407              		.loc 1 105 5 is_stmt 1 view .LVU87
 106:Core/Src/date_time_set.c ****     uint8_t a_value = 0;
 408              		.loc 1 106 5 view .LVU88
 107:Core/Src/date_time_set.c ****     for (uint8_t i = 0; i < 3; i++){
 409              		.loc 1 107 5 view .LVU89
 410              	.LBB5:
 411              		.loc 1 107 10 view .LVU90
 412              		.loc 1 107 18 is_stmt 0 view .LVU91
 413 0026 0024     		movs	r4, #0
 414              	.LBE5:
 105:Core/Src/date_time_set.c ****     uint8_t *head = &time.Hours;
 415              		.loc 1 105 14 view .LVU92
 416 0028 01AD     		add	r5, sp, #4
 417              	.LVL44:
 418              	.LBB6:
 419              		.loc 1 107 5 view .LVU93
 420 002a 10E0     		b	.L33
 421              	.LVL45:
 422              	.L47:
 423              		.loc 1 107 5 view .LVU94
 424              	.LBE6:
 100:Core/Src/date_time_set.c ****         return;
 425              		.loc 1 100 9 is_stmt 1 view .LVU95
 426 002c 2348     		ldr	r0, .L50+8
 427              	.LVL46:
 100:Core/Src/date_time_set.c ****         return;
 428              		.loc 1 100 9 is_stmt 0 view .LVU96
 429 002e FFF7FEFF 		bl	printf
 430              	.LVL47:
 101:Core/Src/date_time_set.c ****     }
 431              		.loc 1 101 9 is_stmt 1 view .LVU97
 432              	.L30:
 108:Core/Src/date_time_set.c ****         if (token == NULL)
 109:Core/Src/date_time_set.c ****         {
 110:Core/Src/date_time_set.c ****             printf("NOK: token == NULL");
 111:Core/Src/date_time_set.c ****             return;
 112:Core/Src/date_time_set.c ****         }
ARM GAS  /var/folders/lt/l_qrc8c54t93n_phsj7cf5tc0000gn/T//ccWgb8h1.s 			page 12


 113:Core/Src/date_time_set.c ****         a_value = atoi(token);
 114:Core/Src/date_time_set.c ****         if (a_value == 0 || a_value > max_time_values[i]){
 115:Core/Src/date_time_set.c ****             printf("NOK: token == 0 or > max");
 116:Core/Src/date_time_set.c ****             return; 
 117:Core/Src/date_time_set.c ****         }
 118:Core/Src/date_time_set.c ****         *(head++) = a_value;
 119:Core/Src/date_time_set.c ****         token = strtok(NULL, ",");
 120:Core/Src/date_time_set.c ****     }
 121:Core/Src/date_time_set.c **** 
 122:Core/Src/date_time_set.c ****     // Set date and check for HAL status
 123:Core/Src/date_time_set.c ****     HAL_StatusTypeDef status = HAL_RTC_SetTime(&hrtc, &time, RTC_HOURFORMAT_24);
 124:Core/Src/date_time_set.c ****     switch (status)
 125:Core/Src/date_time_set.c ****     {
 126:Core/Src/date_time_set.c ****     case HAL_OK:
 127:Core/Src/date_time_set.c ****         printf("Ok");
 128:Core/Src/date_time_set.c ****         break;
 129:Core/Src/date_time_set.c ****     case HAL_ERROR:
 130:Core/Src/date_time_set.c ****         printf("Error");
 131:Core/Src/date_time_set.c ****         break;
 132:Core/Src/date_time_set.c ****     case HAL_BUSY:
 133:Core/Src/date_time_set.c ****         printf("Busy");
 134:Core/Src/date_time_set.c ****         break;
 135:Core/Src/date_time_set.c ****     case HAL_TIMEOUT:
 136:Core/Src/date_time_set.c ****         printf("Timeout");
 137:Core/Src/date_time_set.c ****         break;
 138:Core/Src/date_time_set.c ****     default:
 139:Core/Src/date_time_set.c ****         printf("Unknown");
 140:Core/Src/date_time_set.c ****         break;
 141:Core/Src/date_time_set.c ****     }
 142:Core/Src/date_time_set.c **** }
 433              		.loc 1 142 1 is_stmt 0 view .LVU98
 434 0032 07B0     		add	sp, sp, #28
 435              	.LCFI7:
 436              		.cfi_remember_state
 437              		.cfi_def_cfa_offset 12
 438              		@ sp needed
 439 0034 30BD     		pop	{r4, r5, pc}
 440              	.LVL48:
 441              	.L49:
 442              	.LCFI8:
 443              		.cfi_restore_state
 444              	.LBB7:
 110:Core/Src/date_time_set.c ****             return;
 445              		.loc 1 110 13 is_stmt 1 view .LVU99
 446 0036 2248     		ldr	r0, .L50+12
 447              	.LVL49:
 110:Core/Src/date_time_set.c ****             return;
 448              		.loc 1 110 13 is_stmt 0 view .LVU100
 449 0038 FFF7FEFF 		bl	printf
 450              	.LVL50:
 111:Core/Src/date_time_set.c ****         }
 451              		.loc 1 111 13 is_stmt 1 view .LVU101
 452 003c F9E7     		b	.L30
 453              	.L36:
 118:Core/Src/date_time_set.c ****         token = strtok(NULL, ",");
 454              		.loc 1 118 9 discriminator 2 view .LVU102
 455              	.LVL51:
ARM GAS  /var/folders/lt/l_qrc8c54t93n_phsj7cf5tc0000gn/T//ccWgb8h1.s 			page 13


 118:Core/Src/date_time_set.c ****         token = strtok(NULL, ",");
 456              		.loc 1 118 19 is_stmt 0 discriminator 2 view .LVU103
 457 003e 05F8010B 		strb	r0, [r5], #1
 458              	.LVL52:
 119:Core/Src/date_time_set.c ****     }
 459              		.loc 1 119 9 is_stmt 1 discriminator 2 view .LVU104
 119:Core/Src/date_time_set.c ****     }
 460              		.loc 1 119 17 is_stmt 0 discriminator 2 view .LVU105
 461 0042 1D49     		ldr	r1, .L50+4
 462 0044 0020     		movs	r0, #0
 463 0046 FFF7FEFF 		bl	strtok
 464              	.LVL53:
 107:Core/Src/date_time_set.c ****         if (token == NULL)
 465              		.loc 1 107 32 is_stmt 1 discriminator 2 view .LVU106
 107:Core/Src/date_time_set.c ****         if (token == NULL)
 466              		.loc 1 107 33 is_stmt 0 discriminator 2 view .LVU107
 467 004a 0134     		adds	r4, r4, #1
 468              	.LVL54:
 107:Core/Src/date_time_set.c ****         if (token == NULL)
 469              		.loc 1 107 33 discriminator 2 view .LVU108
 470 004c E4B2     		uxtb	r4, r4
 471              	.LVL55:
 472              	.L33:
 107:Core/Src/date_time_set.c ****         if (token == NULL)
 473              		.loc 1 107 25 is_stmt 1 discriminator 1 view .LVU109
 107:Core/Src/date_time_set.c ****         if (token == NULL)
 474              		.loc 1 107 5 is_stmt 0 discriminator 1 view .LVU110
 475 004e 022C     		cmp	r4, #2
 476 0050 10D8     		bhi	.L48
 108:Core/Src/date_time_set.c ****         {
 477              		.loc 1 108 9 is_stmt 1 view .LVU111
 108:Core/Src/date_time_set.c ****         {
 478              		.loc 1 108 12 is_stmt 0 view .LVU112
 479 0052 0028     		cmp	r0, #0
 480 0054 EFD0     		beq	.L49
 113:Core/Src/date_time_set.c ****         if (a_value == 0 || a_value > max_time_values[i]){
 481              		.loc 1 113 9 is_stmt 1 view .LVU113
 113:Core/Src/date_time_set.c ****         if (a_value == 0 || a_value > max_time_values[i]){
 482              		.loc 1 113 19 is_stmt 0 view .LVU114
 483 0056 FFF7FEFF 		bl	atoi
 484              	.LVL56:
 114:Core/Src/date_time_set.c ****             printf("NOK: token == 0 or > max");
 485              		.loc 1 114 9 is_stmt 1 view .LVU115
 114:Core/Src/date_time_set.c ****             printf("NOK: token == 0 or > max");
 486              		.loc 1 114 12 is_stmt 0 view .LVU116
 487 005a 10F0FF00 		ands	r0, r0, #255
 488              	.LVL57:
 114:Core/Src/date_time_set.c ****             printf("NOK: token == 0 or > max");
 489              		.loc 1 114 12 view .LVU117
 490 005e 05D0     		beq	.L35
 114:Core/Src/date_time_set.c ****             printf("NOK: token == 0 or > max");
 491              		.loc 1 114 54 discriminator 1 view .LVU118
 492 0060 06AB     		add	r3, sp, #24
 493 0062 2344     		add	r3, r3, r4
 494 0064 13F8183C 		ldrb	r3, [r3, #-24]	@ zero_extendqisi2
 114:Core/Src/date_time_set.c ****             printf("NOK: token == 0 or > max");
 495              		.loc 1 114 26 discriminator 1 view .LVU119
ARM GAS  /var/folders/lt/l_qrc8c54t93n_phsj7cf5tc0000gn/T//ccWgb8h1.s 			page 14


 496 0068 8342     		cmp	r3, r0
 497 006a E8D2     		bcs	.L36
 498              	.L35:
 115:Core/Src/date_time_set.c ****             return; 
 499              		.loc 1 115 13 is_stmt 1 view .LVU120
 500 006c 1548     		ldr	r0, .L50+16
 501 006e FFF7FEFF 		bl	printf
 502              	.LVL58:
 116:Core/Src/date_time_set.c ****         }
 503              		.loc 1 116 13 view .LVU121
 504 0072 DEE7     		b	.L30
 505              	.LVL59:
 506              	.L48:
 116:Core/Src/date_time_set.c ****         }
 507              		.loc 1 116 13 is_stmt 0 view .LVU122
 508              	.LBE7:
 123:Core/Src/date_time_set.c ****     switch (status)
 509              		.loc 1 123 5 is_stmt 1 view .LVU123
 123:Core/Src/date_time_set.c ****     switch (status)
 510              		.loc 1 123 32 is_stmt 0 view .LVU124
 511 0074 0022     		movs	r2, #0
 512 0076 01A9     		add	r1, sp, #4
 513 0078 1348     		ldr	r0, .L50+20
 514              	.LVL60:
 123:Core/Src/date_time_set.c ****     switch (status)
 515              		.loc 1 123 32 view .LVU125
 516 007a FFF7FEFF 		bl	HAL_RTC_SetTime
 517              	.LVL61:
 124:Core/Src/date_time_set.c ****     {
 518              		.loc 1 124 5 is_stmt 1 view .LVU126
 519 007e 0328     		cmp	r0, #3
 520 0080 13D8     		bhi	.L38
 521 0082 DFE800F0 		tbb	[pc, r0]
 522              	.L40:
 523 0086 02       		.byte	(.L43-.L40)/2
 524 0087 06       		.byte	(.L42-.L40)/2
 525 0088 0A       		.byte	(.L41-.L40)/2
 526 0089 0E       		.byte	(.L39-.L40)/2
 527              		.p2align 1
 528              	.L43:
 127:Core/Src/date_time_set.c ****         break;
 529              		.loc 1 127 9 view .LVU127
 530 008a 1048     		ldr	r0, .L50+24
 531              	.LVL62:
 127:Core/Src/date_time_set.c ****         break;
 532              		.loc 1 127 9 is_stmt 0 view .LVU128
 533 008c FFF7FEFF 		bl	printf
 534              	.LVL63:
 128:Core/Src/date_time_set.c ****     case HAL_ERROR:
 535              		.loc 1 128 9 is_stmt 1 view .LVU129
 536 0090 CFE7     		b	.L30
 537              	.LVL64:
 538              	.L42:
 130:Core/Src/date_time_set.c ****         break;
 539              		.loc 1 130 9 view .LVU130
 540 0092 0F48     		ldr	r0, .L50+28
 541              	.LVL65:
ARM GAS  /var/folders/lt/l_qrc8c54t93n_phsj7cf5tc0000gn/T//ccWgb8h1.s 			page 15


 130:Core/Src/date_time_set.c ****         break;
 542              		.loc 1 130 9 is_stmt 0 view .LVU131
 543 0094 FFF7FEFF 		bl	printf
 544              	.LVL66:
 131:Core/Src/date_time_set.c ****     case HAL_BUSY:
 545              		.loc 1 131 9 is_stmt 1 view .LVU132
 546 0098 CBE7     		b	.L30
 547              	.LVL67:
 548              	.L41:
 133:Core/Src/date_time_set.c ****         break;
 549              		.loc 1 133 9 view .LVU133
 550 009a 0E48     		ldr	r0, .L50+32
 551              	.LVL68:
 133:Core/Src/date_time_set.c ****         break;
 552              		.loc 1 133 9 is_stmt 0 view .LVU134
 553 009c FFF7FEFF 		bl	printf
 554              	.LVL69:
 134:Core/Src/date_time_set.c ****     case HAL_TIMEOUT:
 555              		.loc 1 134 9 is_stmt 1 view .LVU135
 556 00a0 C7E7     		b	.L30
 557              	.LVL70:
 558              	.L39:
 136:Core/Src/date_time_set.c ****         break;
 559              		.loc 1 136 9 view .LVU136
 560 00a2 0D48     		ldr	r0, .L50+36
 561              	.LVL71:
 136:Core/Src/date_time_set.c ****         break;
 562              		.loc 1 136 9 is_stmt 0 view .LVU137
 563 00a4 FFF7FEFF 		bl	printf
 564              	.LVL72:
 137:Core/Src/date_time_set.c ****     default:
 565              		.loc 1 137 9 is_stmt 1 view .LVU138
 566 00a8 C3E7     		b	.L30
 567              	.LVL73:
 568              	.L38:
 139:Core/Src/date_time_set.c ****         break;
 569              		.loc 1 139 9 view .LVU139
 570 00aa 0C48     		ldr	r0, .L50+40
 571              	.LVL74:
 139:Core/Src/date_time_set.c ****         break;
 572              		.loc 1 139 9 is_stmt 0 view .LVU140
 573 00ac FFF7FEFF 		bl	printf
 574              	.LVL75:
 140:Core/Src/date_time_set.c ****     }
 575              		.loc 1 140 9 is_stmt 1 view .LVU141
 576 00b0 BFE7     		b	.L30
 577              	.L51:
 578 00b2 00BF     		.align	2
 579              	.L50:
 580 00b4 14000000 		.word	.LC13
 581 00b8 14000000 		.word	.LC2
 582 00bc 00000000 		.word	.LC14
 583 00c0 18000000 		.word	.LC3
 584 00c4 2C000000 		.word	.LC4
 585 00c8 00000000 		.word	hrtc
 586 00cc 48000000 		.word	.LC5
 587 00d0 4C000000 		.word	.LC6
ARM GAS  /var/folders/lt/l_qrc8c54t93n_phsj7cf5tc0000gn/T//ccWgb8h1.s 			page 16


 588 00d4 54000000 		.word	.LC7
 589 00d8 5C000000 		.word	.LC8
 590 00dc 64000000 		.word	.LC9
 591              		.cfi_endproc
 592              	.LFE1826:
 594              		.section	.rodata.ts_command.str1.4,"aMS",%progbits,1
 595              		.align	2
 596              	.LC15:
 597 0000 74732063 		.ascii	"ts command\012\015\000"
 597      6F6D6D61 
 597      6E640A0D 
 597      00
 598              		.section	.text.ts_command,"ax",%progbits
 599              		.align	1
 600              		.global	ts_command
 601              		.syntax unified
 602              		.thumb
 603              		.thumb_func
 604              		.fpu fpv4-sp-d16
 606              	ts_command:
 607              	.LVL76:
 608              	.LFB1824:
  26:Core/Src/date_time_set.c ****     if (!args) {
 609              		.loc 1 26 29 view -0
 610              		.cfi_startproc
 611              		@ args = 0, pretend = 0, frame = 0
 612              		@ frame_needed = 0, uses_anonymous_args = 0
  26:Core/Src/date_time_set.c ****     if (!args) {
 613              		.loc 1 26 29 is_stmt 0 view .LVU143
 614 0000 10B5     		push	{r4, lr}
 615              	.LCFI9:
 616              		.cfi_def_cfa_offset 8
 617              		.cfi_offset 4, -8
 618              		.cfi_offset 14, -4
  27:Core/Src/date_time_set.c ****         printf("NOK\n\r");
 619              		.loc 1 27 5 is_stmt 1 view .LVU144
  27:Core/Src/date_time_set.c ****         printf("NOK\n\r");
 620              		.loc 1 27 8 is_stmt 0 view .LVU145
 621 0002 50B1     		cbz	r0, .L56
 622 0004 0446     		mov	r4, r0
  32:Core/Src/date_time_set.c ****         time_set(args);
 623              		.loc 1 32 9 is_stmt 1 view .LVU146
 624 0006 0748     		ldr	r0, .L57
 625              	.LVL77:
  32:Core/Src/date_time_set.c ****         time_set(args);
 626              		.loc 1 32 9 is_stmt 0 view .LVU147
 627 0008 FFF7FEFF 		bl	printf
 628              	.LVL78:
  33:Core/Src/date_time_set.c ****   }
 629              		.loc 1 33 9 is_stmt 1 view .LVU148
 630 000c 2046     		mov	r0, r4
 631 000e FFF7FEFF 		bl	time_set
 632              	.LVL79:
  35:Core/Src/date_time_set.c **** }
 633              		.loc 1 35 3 view .LVU149
 634 0012 0548     		ldr	r0, .L57+4
 635 0014 FFF7FEFF 		bl	printf
ARM GAS  /var/folders/lt/l_qrc8c54t93n_phsj7cf5tc0000gn/T//ccWgb8h1.s 			page 17


 636              	.LVL80:
 637              	.L52:
  36:Core/Src/date_time_set.c **** 
 638              		.loc 1 36 1 is_stmt 0 view .LVU150
 639 0018 10BD     		pop	{r4, pc}
 640              	.LVL81:
 641              	.L56:
  28:Core/Src/date_time_set.c ****         return;
 642              		.loc 1 28 9 is_stmt 1 view .LVU151
 643 001a 0448     		ldr	r0, .L57+8
 644              	.LVL82:
  28:Core/Src/date_time_set.c ****         return;
 645              		.loc 1 28 9 is_stmt 0 view .LVU152
 646 001c FFF7FEFF 		bl	printf
 647              	.LVL83:
  29:Core/Src/date_time_set.c ****     }
 648              		.loc 1 29 9 is_stmt 1 view .LVU153
 649 0020 FAE7     		b	.L52
 650              	.L58:
 651 0022 00BF     		.align	2
 652              	.L57:
 653 0024 00000000 		.word	.LC15
 654 0028 18000000 		.word	.LC12
 655 002c 00000000 		.word	.LC10
 656              		.cfi_endproc
 657              	.LFE1824:
 659              		.section	.rodata.create_sample_time.str1.4,"aMS",%progbits,1
 660              		.align	2
 661              	.LC16:
 662 0000 52544320 		.ascii	"RTC Reports the following Date: %02d/%02d/20%02d\012"
 662      5265706F 
 662      72747320 
 662      74686520 
 662      666F6C6C 
 663 0031 0D00     		.ascii	"\015\000"
 664 0033 00       		.align	2
 665              	.LC17:
 666 0034 52544320 		.ascii	"RTC Reports the following Time: %02d:%02d:%02d\012\015"
 666      5265706F 
 666      72747320 
 666      74686520 
 666      666F6C6C 
 667 0064 00       		.ascii	"\000"
 668 0065 000000   		.align	2
 669              	.LC18:
 670 0068 43757272 		.ascii	"Current Epoch time Converted from RTC: %d\012\015\000"
 670      656E7420 
 670      45706F63 
 670      68207469 
 670      6D652043 
 671              		.align	2
 672              	.LC19:
 673 0094 45706F63 		.ascii	"Epoch Time Recovered Date: %02d/%02d/20%02d\012\015"
 673      68205469 
 673      6D652052 
 673      65636F76 
 673      65726564 
ARM GAS  /var/folders/lt/l_qrc8c54t93n_phsj7cf5tc0000gn/T//ccWgb8h1.s 			page 18


 674 00c1 00       		.ascii	"\000"
 675 00c2 0000     		.align	2
 676              	.LC20:
 677 00c4 45706F63 		.ascii	"Epoch Time Recovered Time: %02d:%02d:%02d\012\015\000"
 677      68205469 
 677      6D652052 
 677      65636F76 
 677      65726564 
 678              		.section	.text.create_sample_time,"ax",%progbits
 679              		.align	1
 680              		.global	create_sample_time
 681              		.syntax unified
 682              		.thumb
 683              		.thumb_func
 684              		.fpu fpv4-sp-d16
 686              	create_sample_time:
 687              	.LFB1827:
 143:Core/Src/date_time_set.c **** 
 144:Core/Src/date_time_set.c **** uint32_t create_sample_time(void){
 688              		.loc 1 144 34 view -0
 689              		.cfi_startproc
 690              		@ args = 0, pretend = 0, frame = 72
 691              		@ frame_needed = 0, uses_anonymous_args = 0
 692 0000 10B5     		push	{r4, lr}
 693              	.LCFI10:
 694              		.cfi_def_cfa_offset 8
 695              		.cfi_offset 4, -8
 696              		.cfi_offset 14, -4
 697 0002 92B0     		sub	sp, sp, #72
 698              	.LCFI11:
 699              		.cfi_def_cfa_offset 80
 145:Core/Src/date_time_set.c ****     /* Function that reads the RTC time, converts it to epoch time using
 146:Core/Src/date_time_set.c ****      mktime, and then converts it back using localtime
 147:Core/Src/date_time_set.c ****    */
 148:Core/Src/date_time_set.c ****   RTC_TimeTypeDef current_time;
 700              		.loc 1 148 3 view .LVU155
 149:Core/Src/date_time_set.c ****   RTC_DateTypeDef current_date;
 701              		.loc 1 149 3 view .LVU156
 150:Core/Src/date_time_set.c ****   struct tm t = {0};
 702              		.loc 1 150 3 view .LVU157
 703              		.loc 1 150 13 is_stmt 0 view .LVU158
 704 0004 2422     		movs	r2, #36
 705 0006 0021     		movs	r1, #0
 706 0008 03A8     		add	r0, sp, #12
 707 000a FFF7FEFF 		bl	memset
 708              	.LVL84:
 151:Core/Src/date_time_set.c ****   struct tm * recover;
 709              		.loc 1 151 3 is_stmt 1 view .LVU159
 152:Core/Src/date_time_set.c ****   time_t t_of_day;
 710              		.loc 1 152 3 view .LVU160
 153:Core/Src/date_time_set.c ****   
 154:Core/Src/date_time_set.c ****   HAL_RTC_GetTime(&hrtc,&current_time,RTC_FORMAT_BIN);
 711              		.loc 1 154 3 view .LVU161
 712 000e 2A4C     		ldr	r4, .L61
 713 0010 0022     		movs	r2, #0
 714 0012 0DA9     		add	r1, sp, #52
 715 0014 2046     		mov	r0, r4
ARM GAS  /var/folders/lt/l_qrc8c54t93n_phsj7cf5tc0000gn/T//ccWgb8h1.s 			page 19


 716 0016 FFF7FEFF 		bl	HAL_RTC_GetTime
 717              	.LVL85:
 155:Core/Src/date_time_set.c ****   HAL_RTC_GetDate(&hrtc,&current_date,RTC_FORMAT_BIN);
 718              		.loc 1 155 3 view .LVU162
 719 001a 0022     		movs	r2, #0
 720 001c 0CA9     		add	r1, sp, #48
 721 001e 2046     		mov	r0, r4
 722 0020 FFF7FEFF 		bl	HAL_RTC_GetDate
 723              	.LVL86:
 156:Core/Src/date_time_set.c ****   printf("RTC Reports the following Date: %02d/%02d/20%02d\n\r",
 724              		.loc 1 156 3 view .LVU163
 725 0024 9DF83330 		ldrb	r3, [sp, #51]	@ zero_extendqisi2
 726 0028 9DF83220 		ldrb	r2, [sp, #50]	@ zero_extendqisi2
 727 002c 9DF83110 		ldrb	r1, [sp, #49]	@ zero_extendqisi2
 728 0030 2248     		ldr	r0, .L61+4
 729 0032 FFF7FEFF 		bl	printf
 730              	.LVL87:
 157:Core/Src/date_time_set.c ****          current_date.Month,
 158:Core/Src/date_time_set.c ****          current_date.Date,
 159:Core/Src/date_time_set.c ****          current_date.Year);
 160:Core/Src/date_time_set.c **** 
 161:Core/Src/date_time_set.c ****   printf("RTC Reports the following Time: %02d:%02d:%02d\n\r",
 731              		.loc 1 161 3 view .LVU164
 732 0036 9DF83630 		ldrb	r3, [sp, #54]	@ zero_extendqisi2
 733 003a 9DF83520 		ldrb	r2, [sp, #53]	@ zero_extendqisi2
 734 003e 9DF83410 		ldrb	r1, [sp, #52]	@ zero_extendqisi2
 735 0042 1F48     		ldr	r0, .L61+8
 736 0044 FFF7FEFF 		bl	printf
 737              	.LVL88:
 162:Core/Src/date_time_set.c ****          current_time.Hours,
 163:Core/Src/date_time_set.c ****          current_time.Minutes,
 164:Core/Src/date_time_set.c ****          current_time.Seconds);
 165:Core/Src/date_time_set.c **** 
 166:Core/Src/date_time_set.c ****   t.tm_year = current_date.Year + 100;  
 738              		.loc 1 166 3 view .LVU165
 739              		.loc 1 166 27 is_stmt 0 view .LVU166
 740 0048 9DF83330 		ldrb	r3, [sp, #51]	@ zero_extendqisi2
 741              		.loc 1 166 33 view .LVU167
 742 004c 6433     		adds	r3, r3, #100
 743              		.loc 1 166 13 view .LVU168
 744 004e 0893     		str	r3, [sp, #32]
 167:Core/Src/date_time_set.c ****   t.tm_mon = current_date.Month - 1; 
 745              		.loc 1 167 3 is_stmt 1 view .LVU169
 746              		.loc 1 167 26 is_stmt 0 view .LVU170
 747 0050 9DF83130 		ldrb	r3, [sp, #49]	@ zero_extendqisi2
 748              		.loc 1 167 33 view .LVU171
 749 0054 013B     		subs	r3, r3, #1
 750              		.loc 1 167 12 view .LVU172
 751 0056 0793     		str	r3, [sp, #28]
 168:Core/Src/date_time_set.c ****   t.tm_mday = current_date.Date; 
 752              		.loc 1 168 3 is_stmt 1 view .LVU173
 753              		.loc 1 168 27 is_stmt 0 view .LVU174
 754 0058 9DF83230 		ldrb	r3, [sp, #50]	@ zero_extendqisi2
 755              		.loc 1 168 13 view .LVU175
 756 005c 0693     		str	r3, [sp, #24]
 169:Core/Src/date_time_set.c ****   t.tm_hour = current_time.Hours;
 757              		.loc 1 169 3 is_stmt 1 view .LVU176
ARM GAS  /var/folders/lt/l_qrc8c54t93n_phsj7cf5tc0000gn/T//ccWgb8h1.s 			page 20


 758              		.loc 1 169 27 is_stmt 0 view .LVU177
 759 005e 9DF83430 		ldrb	r3, [sp, #52]	@ zero_extendqisi2
 760              		.loc 1 169 13 view .LVU178
 761 0062 0593     		str	r3, [sp, #20]
 170:Core/Src/date_time_set.c ****   t.tm_min = current_time.Minutes;
 762              		.loc 1 170 3 is_stmt 1 view .LVU179
 763              		.loc 1 170 26 is_stmt 0 view .LVU180
 764 0064 9DF83530 		ldrb	r3, [sp, #53]	@ zero_extendqisi2
 765              		.loc 1 170 12 view .LVU181
 766 0068 0493     		str	r3, [sp, #16]
 171:Core/Src/date_time_set.c ****   t.tm_sec = current_time.Seconds;
 767              		.loc 1 171 3 is_stmt 1 view .LVU182
 768              		.loc 1 171 26 is_stmt 0 view .LVU183
 769 006a 9DF83630 		ldrb	r3, [sp, #54]	@ zero_extendqisi2
 770              		.loc 1 171 12 view .LVU184
 771 006e 0393     		str	r3, [sp, #12]
 172:Core/Src/date_time_set.c ****   t.tm_isdst = -1;    
 772              		.loc 1 172 3 is_stmt 1 view .LVU185
 773              		.loc 1 172 14 is_stmt 0 view .LVU186
 774 0070 4FF0FF33 		mov	r3, #-1
 775 0074 0B93     		str	r3, [sp, #44]
 173:Core/Src/date_time_set.c ****   t_of_day = mktime(&t);
 776              		.loc 1 173 3 is_stmt 1 view .LVU187
 777              		.loc 1 173 14 is_stmt 0 view .LVU188
 778 0076 03A8     		add	r0, sp, #12
 779 0078 FFF7FEFF 		bl	mktime
 780              	.LVL89:
 781              		.loc 1 173 12 view .LVU189
 782 007c 0090     		str	r0, [sp]
 783 007e 0191     		str	r1, [sp, #4]
 174:Core/Src/date_time_set.c **** //   return(t_of_day);
 175:Core/Src/date_time_set.c ****   printf("Current Epoch time Converted from RTC: %d\n\r", (int) t_of_day);
 784              		.loc 1 175 3 is_stmt 1 view .LVU190
 785 0080 0146     		mov	r1, r0
 786 0082 1048     		ldr	r0, .L61+12
 787 0084 FFF7FEFF 		bl	printf
 788              	.LVL90:
 176:Core/Src/date_time_set.c ****   recover = localtime(&t_of_day);
 789              		.loc 1 176 3 view .LVU191
 790              		.loc 1 176 13 is_stmt 0 view .LVU192
 791 0088 6846     		mov	r0, sp
 792 008a FFF7FEFF 		bl	localtime
 793              	.LVL91:
 794 008e 0446     		mov	r4, r0
 795              	.LVL92:
 177:Core/Src/date_time_set.c ****   printf("Epoch Time Recovered Date: %02d/%02d/20%02d\n\r",
 796              		.loc 1 177 3 is_stmt 1 view .LVU193
 178:Core/Src/date_time_set.c ****          recover->tm_mon + 1,
 797              		.loc 1 178 17 is_stmt 0 view .LVU194
 798 0090 0169     		ldr	r1, [r0, #16]
 179:Core/Src/date_time_set.c ****          recover->tm_mday,
 180:Core/Src/date_time_set.c ****         //  recover->tm_mon + 1,
 181:Core/Src/date_time_set.c ****          recover->tm_year - 100);
 799              		.loc 1 181 17 view .LVU195
 800 0092 4369     		ldr	r3, [r0, #20]
 177:Core/Src/date_time_set.c ****          recover->tm_mon + 1,
 801              		.loc 1 177 3 view .LVU196
ARM GAS  /var/folders/lt/l_qrc8c54t93n_phsj7cf5tc0000gn/T//ccWgb8h1.s 			page 21


 802 0094 643B     		subs	r3, r3, #100
 803 0096 C268     		ldr	r2, [r0, #12]
 804 0098 0131     		adds	r1, r1, #1
 805 009a 0B48     		ldr	r0, .L61+16
 806              	.LVL93:
 177:Core/Src/date_time_set.c ****          recover->tm_mon + 1,
 807              		.loc 1 177 3 view .LVU197
 808 009c FFF7FEFF 		bl	printf
 809              	.LVL94:
 182:Core/Src/date_time_set.c **** 
 183:Core/Src/date_time_set.c ****   printf("Epoch Time Recovered Time: %02d:%02d:%02d\n\r",
 810              		.loc 1 183 3 is_stmt 1 view .LVU198
 811 00a0 2368     		ldr	r3, [r4]
 812 00a2 6268     		ldr	r2, [r4, #4]
 813 00a4 A168     		ldr	r1, [r4, #8]
 814 00a6 0948     		ldr	r0, .L61+20
 815 00a8 FFF7FEFF 		bl	printf
 816              	.LVL95:
 184:Core/Src/date_time_set.c ****          recover->tm_hour,
 185:Core/Src/date_time_set.c ****          recover->tm_min,
 186:Core/Src/date_time_set.c ****          recover->tm_sec);
 187:Core/Src/date_time_set.c ****   free(recover);
 817              		.loc 1 187 3 view .LVU199
 818 00ac 2046     		mov	r0, r4
 819 00ae FFF7FEFF 		bl	free
 820              	.LVL96:
 188:Core/Src/date_time_set.c ****   return(t_of_day);
 821              		.loc 1 188 3 view .LVU200
 189:Core/Src/date_time_set.c **** //   return (0);
 190:Core/Src/date_time_set.c **** }
 822              		.loc 1 190 1 is_stmt 0 view .LVU201
 823 00b2 0098     		ldr	r0, [sp]
 824 00b4 12B0     		add	sp, sp, #72
 825              	.LCFI12:
 826              		.cfi_def_cfa_offset 8
 827              		@ sp needed
 828 00b6 10BD     		pop	{r4, pc}
 829              	.LVL97:
 830              	.L62:
 831              		.loc 1 190 1 view .LVU202
 832              		.align	2
 833              	.L61:
 834 00b8 00000000 		.word	hrtc
 835 00bc 00000000 		.word	.LC16
 836 00c0 34000000 		.word	.LC17
 837 00c4 68000000 		.word	.LC18
 838 00c8 94000000 		.word	.LC19
 839 00cc C4000000 		.word	.LC20
 840              		.cfi_endproc
 841              	.LFE1827:
 843              		.section	.rodata.date_time_recover.str1.4,"aMS",%progbits,1
 844              		.align	2
 845              	.LC21:
 846 0000 25303264 		.ascii	"%02d/%02d/%02d,%02d:%02d:%02d\000"
 846      2F253032 
 846      642F2530 
 846      32642C25 
ARM GAS  /var/folders/lt/l_qrc8c54t93n_phsj7cf5tc0000gn/T//ccWgb8h1.s 			page 22


 846      3032643A 
 847 001e 0000     		.align	2
 848              	.LC22:
 849 0020 44415445 		.ascii	"DATE STRING: %s\015\012\000"
 849      20535452 
 849      494E473A 
 849      2025730D 
 849      0A00
 850              		.section	.text.date_time_recover,"ax",%progbits
 851              		.align	1
 852              		.global	date_time_recover
 853              		.syntax unified
 854              		.thumb
 855              		.thumb_func
 856              		.fpu fpv4-sp-d16
 858              	date_time_recover:
 859              	.LVL98:
 860              	.LFB1828:
 191:Core/Src/date_time_set.c **** 
 192:Core/Src/date_time_set.c **** /**
 193:Core/Src/date_time_set.c ****  * @brief   Converts an epoch time to a human readable format
 194:Core/Src/date_time_set.c ****  * @param   epoch_time: Time in seconds since 2000
 195:Core/Src/date_time_set.c ****  * @retval  None
 196:Core/Src/date_time_set.c **** **/
 197:Core/Src/date_time_set.c **** char* date_time_recover(uint32_t epoch_time){
 861              		.loc 1 197 45 is_stmt 1 view -0
 862              		.cfi_startproc
 863              		@ args = 0, pretend = 0, frame = 40
 864              		@ frame_needed = 0, uses_anonymous_args = 0
 865              		.loc 1 197 45 is_stmt 0 view .LVU204
 866 0000 30B5     		push	{r4, r5, lr}
 867              	.LCFI13:
 868              		.cfi_def_cfa_offset 12
 869              		.cfi_offset 4, -12
 870              		.cfi_offset 5, -8
 871              		.cfi_offset 14, -4
 872 0002 8FB0     		sub	sp, sp, #60
 873              	.LCFI14:
 874              		.cfi_def_cfa_offset 72
 198:Core/Src/date_time_set.c **** //   uint16_t year, month, day, hour, minute, second;
 199:Core/Src/date_time_set.c **** //   uint16_t days, leap_year;
 200:Core/Src/date_time_set.c **** //   static char dateTime[32];
 201:Core/Src/date_time_set.c **** 
 202:Core/Src/date_time_set.c ****   
 203:Core/Src/date_time_set.c **** time_t curSec;
 875              		.loc 1 203 1 is_stmt 1 view .LVU205
 204:Core/Src/date_time_set.c **** struct tm *curDate;
 876              		.loc 1 204 1 view .LVU206
 205:Core/Src/date_time_set.c **** char dateString[32];
 877              		.loc 1 205 1 view .LVU207
 206:Core/Src/date_time_set.c **** 
 207:Core/Src/date_time_set.c **** // curSec = time(NULL);
 208:Core/Src/date_time_set.c **** // curDate = localtime(&curSec);
 209:Core/Src/date_time_set.c **** // sprintf(dateString,
 210:Core/Src/date_time_set.c **** //     "%02d/%02d/%02d,%02d:%02d:%02d",
 211:Core/Src/date_time_set.c **** //     // Weekdays[curDate->tm_wday],
 212:Core/Src/date_time_set.c **** //     curDate->tm_mday,
ARM GAS  /var/folders/lt/l_qrc8c54t93n_phsj7cf5tc0000gn/T//ccWgb8h1.s 			page 23


 213:Core/Src/date_time_set.c **** //     curDate->tm_mon+1,
 214:Core/Src/date_time_set.c **** //     curDate->tm_year+1900,
 215:Core/Src/date_time_set.c **** //     curDate->tm_hour,
 216:Core/Src/date_time_set.c **** //     curDate->tm_min,
 217:Core/Src/date_time_set.c **** //     curDate->tm_sec);
 218:Core/Src/date_time_set.c **** 
 219:Core/Src/date_time_set.c **** // printf("Date StringL %s\r\n",dateString);
 220:Core/Src/date_time_set.c **** // return 0;
 221:Core/Src/date_time_set.c **** 
 222:Core/Src/date_time_set.c **** time_t t_of_day;
 878              		.loc 1 222 1 view .LVU208
 223:Core/Src/date_time_set.c **** t_of_day = epoch_time;
 879              		.loc 1 223 1 view .LVU209
 880              		.loc 1 223 10 is_stmt 0 view .LVU210
 881 0004 0025     		movs	r5, #0
 882 0006 0490     		str	r0, [sp, #16]
 883 0008 0595     		str	r5, [sp, #20]
 224:Core/Src/date_time_set.c **** 
 225:Core/Src/date_time_set.c **** struct tm * recover;
 884              		.loc 1 225 1 is_stmt 1 view .LVU211
 226:Core/Src/date_time_set.c **** recover = localtime(&t_of_day);
 885              		.loc 1 226 1 view .LVU212
 886              		.loc 1 226 11 is_stmt 0 view .LVU213
 887 000a 04A8     		add	r0, sp, #16
 888              	.LVL99:
 889              		.loc 1 226 11 view .LVU214
 890 000c FFF7FEFF 		bl	localtime
 891              	.LVL100:
 892              		.loc 1 226 11 view .LVU215
 893 0010 0446     		mov	r4, r0
 894              	.LVL101:
 227:Core/Src/date_time_set.c **** printf("Epoch Time Recovered Date: %02d/%02d/20%02d\n\r",
 895              		.loc 1 227 1 is_stmt 1 view .LVU216
 228:Core/Src/date_time_set.c ****          recover->tm_mon + 1,
 896              		.loc 1 228 17 is_stmt 0 view .LVU217
 897 0012 0169     		ldr	r1, [r0, #16]
 229:Core/Src/date_time_set.c ****          recover->tm_mday,
 230:Core/Src/date_time_set.c ****         //  recover->tm_mon + 1,
 231:Core/Src/date_time_set.c ****          recover->tm_year - 100);
 898              		.loc 1 231 17 view .LVU218
 899 0014 4369     		ldr	r3, [r0, #20]
 227:Core/Src/date_time_set.c ****          recover->tm_mon + 1,
 900              		.loc 1 227 1 view .LVU219
 901 0016 643B     		subs	r3, r3, #100
 902 0018 C268     		ldr	r2, [r0, #12]
 903 001a 0131     		adds	r1, r1, #1
 904 001c 1048     		ldr	r0, .L65
 905              	.LVL102:
 227:Core/Src/date_time_set.c ****          recover->tm_mon + 1,
 906              		.loc 1 227 1 view .LVU220
 907 001e FFF7FEFF 		bl	printf
 908              	.LVL103:
 232:Core/Src/date_time_set.c **** 
 233:Core/Src/date_time_set.c ****   printf("Epoch Time Recovered Time: %02d:%02d:%02d\n\r",
 909              		.loc 1 233 3 is_stmt 1 view .LVU221
 910 0022 2368     		ldr	r3, [r4]
 911 0024 6268     		ldr	r2, [r4, #4]
ARM GAS  /var/folders/lt/l_qrc8c54t93n_phsj7cf5tc0000gn/T//ccWgb8h1.s 			page 24


 912 0026 A168     		ldr	r1, [r4, #8]
 913 0028 0E48     		ldr	r0, .L65+4
 914 002a FFF7FEFF 		bl	printf
 915              	.LVL104:
 234:Core/Src/date_time_set.c ****          recover->tm_hour,
 235:Core/Src/date_time_set.c ****          recover->tm_min,
 236:Core/Src/date_time_set.c ****          recover->tm_sec);
 237:Core/Src/date_time_set.c **** 
 238:Core/Src/date_time_set.c **** sprintf(dateString,
 916              		.loc 1 238 1 view .LVU222
 239:Core/Src/date_time_set.c ****     "%02d/%02d/%02d,%02d:%02d:%02d",
 240:Core/Src/date_time_set.c ****     // Weekdays[curDate->tm_wday],
 241:Core/Src/date_time_set.c ****     recover->tm_mday,
 242:Core/Src/date_time_set.c ****     recover->tm_mon+1,
 917              		.loc 1 242 12 is_stmt 0 view .LVU223
 918 002e 2369     		ldr	r3, [r4, #16]
 243:Core/Src/date_time_set.c ****     recover->tm_year+1900,
 919              		.loc 1 243 12 view .LVU224
 920 0030 6169     		ldr	r1, [r4, #20]
 238:Core/Src/date_time_set.c ****     "%02d/%02d/%02d,%02d:%02d:%02d",
 921              		.loc 1 238 1 view .LVU225
 922 0032 E268     		ldr	r2, [r4, #12]
 923 0034 2068     		ldr	r0, [r4]
 924 0036 0390     		str	r0, [sp, #12]
 925 0038 6068     		ldr	r0, [r4, #4]
 926 003a 0290     		str	r0, [sp, #8]
 927 003c A068     		ldr	r0, [r4, #8]
 928 003e 0190     		str	r0, [sp, #4]
 929 0040 01F26C71 		addw	r1, r1, #1900
 930 0044 0091     		str	r1, [sp]
 931 0046 0133     		adds	r3, r3, #1
 932 0048 0749     		ldr	r1, .L65+8
 933 004a 06A8     		add	r0, sp, #24
 934 004c FFF7FEFF 		bl	sprintf
 935              	.LVL105:
 244:Core/Src/date_time_set.c ****     recover->tm_hour,
 245:Core/Src/date_time_set.c ****     recover->tm_min,
 246:Core/Src/date_time_set.c ****     recover->tm_sec);
 247:Core/Src/date_time_set.c **** printf("DATE STRING: %s\r\n", dateString);
 936              		.loc 1 247 1 is_stmt 1 view .LVU226
 937 0050 06A9     		add	r1, sp, #24
 938 0052 0648     		ldr	r0, .L65+12
 939 0054 FFF7FEFF 		bl	printf
 940              	.LVL106:
 248:Core/Src/date_time_set.c **** return dateString;
 941              		.loc 1 248 1 view .LVU227
 249:Core/Src/date_time_set.c **** }
 942              		.loc 1 249 1 is_stmt 0 view .LVU228
 943 0058 2846     		mov	r0, r5
 944 005a 0FB0     		add	sp, sp, #60
 945              	.LCFI15:
 946              		.cfi_def_cfa_offset 12
 947              		@ sp needed
 948 005c 30BD     		pop	{r4, r5, pc}
 949              	.LVL107:
 950              	.L66:
 951              		.loc 1 249 1 view .LVU229
ARM GAS  /var/folders/lt/l_qrc8c54t93n_phsj7cf5tc0000gn/T//ccWgb8h1.s 			page 25


 952 005e 00BF     		.align	2
 953              	.L65:
 954 0060 94000000 		.word	.LC19
 955 0064 C4000000 		.word	.LC20
 956 0068 00000000 		.word	.LC21
 957 006c 20000000 		.word	.LC22
 958              		.cfi_endproc
 959              	.LFE1828:
 961              		.text
 962              	.Letext0:
 963              		.file 2 "/usr/local/Cellar/arm-none-eabi-gcc/9-2019-q4-major/gcc/arm-none-eabi/include/machine/_de
 964              		.file 3 "/usr/local/Cellar/arm-none-eabi-gcc/9-2019-q4-major/gcc/arm-none-eabi/include/sys/lock.h"
 965              		.file 4 "/usr/local/Cellar/arm-none-eabi-gcc/9-2019-q4-major/gcc/arm-none-eabi/include/sys/_types.
 966              		.file 5 "/usr/local/Cellar/arm-none-eabi-gcc/9-2019-q4-major/gcc/lib/gcc/arm-none-eabi/9.2.1/inclu
 967              		.file 6 "/usr/local/Cellar/arm-none-eabi-gcc/9-2019-q4-major/gcc/arm-none-eabi/include/sys/reent.h
 968              		.file 7 "/usr/local/Cellar/arm-none-eabi-gcc/9-2019-q4-major/gcc/arm-none-eabi/include/sys/_stdint
 969              		.file 8 "/usr/local/Cellar/arm-none-eabi-gcc/9-2019-q4-major/gcc/arm-none-eabi/include/sys/_timeva
 970              		.file 9 "/usr/local/Cellar/arm-none-eabi-gcc/9-2019-q4-major/gcc/arm-none-eabi/include/stdlib.h"
 971              		.file 10 "/usr/local/Cellar/arm-none-eabi-gcc/9-2019-q4-major/gcc/arm-none-eabi/include/time.h"
 972              		.file 11 "Drivers/CMSIS/Include/core_cm4.h"
 973              		.file 12 "Drivers/CMSIS/Device/ST/STM32WBxx/Include/system_stm32wbxx.h"
 974              		.file 13 "Drivers/CMSIS/Device/ST/STM32WBxx/Include/stm32wb55xx.h"
 975              		.file 14 "Drivers/STM32WBxx_HAL_Driver/Inc/stm32wbxx_hal_def.h"
 976              		.file 15 "Drivers/STM32WBxx_HAL_Driver/Inc/stm32wbxx_hal_flash.h"
 977              		.file 16 "Drivers/STM32WBxx_HAL_Driver/Inc/stm32wbxx_hal_rtc.h"
 978              		.file 17 "Drivers/STM32WBxx_HAL_Driver/Inc/stm32wbxx_hal_uart.h"
 979              		.file 18 "Drivers/STM32WBxx_HAL_Driver/Inc/stm32wbxx_hal.h"
 980              		.file 19 "Drivers/STM32WBxx_HAL_Driver/Inc/stm32wbxx_ll_usart.h"
 981              		.file 20 "Drivers/STM32WBxx_HAL_Driver/Inc/stm32wbxx_ll_lpuart.h"
 982              		.file 21 "/usr/local/Cellar/arm-none-eabi-gcc/9-2019-q4-major/gcc/arm-none-eabi/include/stdio.h"
 983              		.file 22 "/usr/local/Cellar/arm-none-eabi-gcc/9-2019-q4-major/gcc/arm-none-eabi/include/string.h"
 984              		.file 23 "<built-in>"
ARM GAS  /var/folders/lt/l_qrc8c54t93n_phsj7cf5tc0000gn/T//ccWgb8h1.s 			page 26


DEFINED SYMBOLS
                            *ABS*:0000000000000000 date_time_set.c
/var/folders/lt/l_qrc8c54t93n_phsj7cf5tc0000gn/T//ccWgb8h1.s:18     .rodata.date_set.str1.4:0000000000000000 $d
/var/folders/lt/l_qrc8c54t93n_phsj7cf5tc0000gn/T//ccWgb8h1.s:49     .text.date_set:0000000000000000 $t
/var/folders/lt/l_qrc8c54t93n_phsj7cf5tc0000gn/T//ccWgb8h1.s:57     .text.date_set:0000000000000000 date_set
/var/folders/lt/l_qrc8c54t93n_phsj7cf5tc0000gn/T//ccWgb8h1.s:210    .text.date_set:000000000000007e $d
/var/folders/lt/l_qrc8c54t93n_phsj7cf5tc0000gn/T//ccWgb8h1.s:214    .text.date_set:0000000000000082 $t
/var/folders/lt/l_qrc8c54t93n_phsj7cf5tc0000gn/T//ccWgb8h1.s:267    .text.date_set:00000000000000ac $d
/var/folders/lt/l_qrc8c54t93n_phsj7cf5tc0000gn/T//ccWgb8h1.s:282    .rodata.ds_command.str1.4:0000000000000000 $d
/var/folders/lt/l_qrc8c54t93n_phsj7cf5tc0000gn/T//ccWgb8h1.s:292    .text.ds_command:0000000000000000 $t
/var/folders/lt/l_qrc8c54t93n_phsj7cf5tc0000gn/T//ccWgb8h1.s:299    .text.ds_command:0000000000000000 ds_command
/var/folders/lt/l_qrc8c54t93n_phsj7cf5tc0000gn/T//ccWgb8h1.s:346    .text.ds_command:0000000000000024 $d
/var/folders/lt/l_qrc8c54t93n_phsj7cf5tc0000gn/T//ccWgb8h1.s:353    .rodata.time_set.str1.4:0000000000000000 $d
/var/folders/lt/l_qrc8c54t93n_phsj7cf5tc0000gn/T//ccWgb8h1.s:360    .text.time_set:0000000000000000 $t
/var/folders/lt/l_qrc8c54t93n_phsj7cf5tc0000gn/T//ccWgb8h1.s:367    .text.time_set:0000000000000000 time_set
/var/folders/lt/l_qrc8c54t93n_phsj7cf5tc0000gn/T//ccWgb8h1.s:523    .text.time_set:0000000000000086 $d
/var/folders/lt/l_qrc8c54t93n_phsj7cf5tc0000gn/T//ccWgb8h1.s:527    .text.time_set:000000000000008a $t
/var/folders/lt/l_qrc8c54t93n_phsj7cf5tc0000gn/T//ccWgb8h1.s:580    .text.time_set:00000000000000b4 $d
/var/folders/lt/l_qrc8c54t93n_phsj7cf5tc0000gn/T//ccWgb8h1.s:595    .rodata.ts_command.str1.4:0000000000000000 $d
/var/folders/lt/l_qrc8c54t93n_phsj7cf5tc0000gn/T//ccWgb8h1.s:599    .text.ts_command:0000000000000000 $t
/var/folders/lt/l_qrc8c54t93n_phsj7cf5tc0000gn/T//ccWgb8h1.s:606    .text.ts_command:0000000000000000 ts_command
/var/folders/lt/l_qrc8c54t93n_phsj7cf5tc0000gn/T//ccWgb8h1.s:653    .text.ts_command:0000000000000024 $d
/var/folders/lt/l_qrc8c54t93n_phsj7cf5tc0000gn/T//ccWgb8h1.s:660    .rodata.create_sample_time.str1.4:0000000000000000 $d
/var/folders/lt/l_qrc8c54t93n_phsj7cf5tc0000gn/T//ccWgb8h1.s:679    .text.create_sample_time:0000000000000000 $t
/var/folders/lt/l_qrc8c54t93n_phsj7cf5tc0000gn/T//ccWgb8h1.s:686    .text.create_sample_time:0000000000000000 create_sample_time
/var/folders/lt/l_qrc8c54t93n_phsj7cf5tc0000gn/T//ccWgb8h1.s:834    .text.create_sample_time:00000000000000b8 $d
/var/folders/lt/l_qrc8c54t93n_phsj7cf5tc0000gn/T//ccWgb8h1.s:844    .rodata.date_time_recover.str1.4:0000000000000000 $d
/var/folders/lt/l_qrc8c54t93n_phsj7cf5tc0000gn/T//ccWgb8h1.s:851    .text.date_time_recover:0000000000000000 $t
/var/folders/lt/l_qrc8c54t93n_phsj7cf5tc0000gn/T//ccWgb8h1.s:858    .text.date_time_recover:0000000000000000 date_time_recover
/var/folders/lt/l_qrc8c54t93n_phsj7cf5tc0000gn/T//ccWgb8h1.s:954    .text.date_time_recover:0000000000000060 $d

UNDEFINED SYMBOLS
strtok
printf
atoi
HAL_RTC_SetDate
hrtc
HAL_RTC_SetTime
memset
HAL_RTC_GetTime
HAL_RTC_GetDate
mktime
localtime
free
sprintf
