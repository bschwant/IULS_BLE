ARM GAS  /var/folders/lt/l_qrc8c54t93n_phsj7cf5tc0000gn/T//cchDC8hM.s 			page 1


   1              		.cpu cortex-m4
   2              		.eabi_attribute 27, 1
   3              		.eabi_attribute 28, 1
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 1
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.file	"stm_queue.c"
  14              		.text
  15              	.Ltext0:
  16              		.cfi_sections	.debug_frame
  17              		.section	.text.CircularQueue_Init,"ax",%progbits
  18              		.align	1
  19              		.global	CircularQueue_Init
  20              		.arch armv7e-m
  21              		.syntax unified
  22              		.thumb
  23              		.thumb_func
  24              		.fpu fpv4-sp-d16
  26              	CircularQueue_Init:
  27              	.LVL0:
  28              	.LFB1261:
  29              		.file 1 "Middlewares/ST/STM32_WPAN/utilities/stm_queue.c"
   1:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c **** /**
   2:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****   ******************************************************************************
   3:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****   * @file    stm_queue.c
   4:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****   * @author  MCD Application Team
   5:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****   * @brief   Queue management
   6:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****   ******************************************************************************
   7:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****   * @attention
   8:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****   *
   9:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****   * Copyright (c) 2018-2021 STMicroelectronics.
  10:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****   * All rights reserved.
  11:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****   *
  12:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****   * This software is licensed under terms that can be found in the LICENSE file
  13:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****   * in the root directory of this software component.
  14:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****   * If no LICENSE file comes with this software, it is provided AS-IS.
  15:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****   *
  16:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****   ******************************************************************************
  17:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****   */
  18:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c **** 
  19:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c **** /* Includes ------------------------------------------------------------------*/
  20:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c **** 
  21:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c **** /* Includes ------------------------------------------------------------------*/
  22:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c **** #include "utilities_common.h"
  23:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c **** 
  24:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c **** #include "stm_queue.h"
  25:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c **** 
  26:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c **** /* Private define ------------------------------------------------------------*/
  27:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c **** /* Private typedef -------------------------------------------------------------*/
  28:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c **** /* Private macro -------------------------------------------------------------*/
  29:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c **** #define MOD(X,Y) (((X) >= (Y)) ? ((X)-(Y)) : (X))
ARM GAS  /var/folders/lt/l_qrc8c54t93n_phsj7cf5tc0000gn/T//cchDC8hM.s 			page 2


  30:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c **** 
  31:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c **** /* Private variables ---------------------------------------------------------*/
  32:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c **** /* Global variables ----------------------------------------------------------*/
  33:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c **** /* Extern variables ----------------------------------------------------------*/
  34:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c **** /* Private function prototypes -----------------------------------------------*/
  35:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c **** /* Private functions ---------------------------------------------------------*/
  36:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c **** /* Public functions ----------------------------------------------------------*/
  37:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c **** 
  38:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c **** /**
  39:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****   * @brief   Initilaiilze queue strcuture .
  40:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****   * @note   This function is used to initialize the global queue strcuture.  
  41:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****   * @param  q: pointer on queue strcture to be initialised 
  42:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****   * @param  queueBuffer: pointer on Queue Buffer
  43:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****   * @param  queueSize:  Size of Queue Buffer
  44:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****   * @param  elementSize: Size of an element in the queue. if =0, the queue will manage variable siz
  45:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****   * @retval   always 0
  46:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****   */
  47:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c **** int CircularQueue_Init(queue_t *q, uint8_t* queueBuffer, uint32_t queueSize, uint16_t elementSize, 
  48:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c **** {
  30              		.loc 1 48 1 view -0
  31              		.cfi_startproc
  32              		@ args = 4, pretend = 0, frame = 0
  33              		@ frame_needed = 0, uses_anonymous_args = 0
  34              		@ link register save eliminated.
  35              		.loc 1 48 1 is_stmt 0 view .LVU1
  36 0000 10B4     		push	{r4}
  37              	.LCFI0:
  38              		.cfi_def_cfa_offset 4
  39              		.cfi_offset 4, -4
  40 0002 9DF80440 		ldrb	r4, [sp, #4]	@ zero_extendqisi2
  49:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****   q->qBuff = queueBuffer;
  41              		.loc 1 49 3 is_stmt 1 view .LVU2
  42              		.loc 1 49 12 is_stmt 0 view .LVU3
  43 0006 0160     		str	r1, [r0]
  50:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****   q->first = 0;
  44              		.loc 1 50 3 is_stmt 1 view .LVU4
  45              		.loc 1 50 12 is_stmt 0 view .LVU5
  46 0008 0021     		movs	r1, #0
  47              	.LVL1:
  48              		.loc 1 50 12 view .LVU6
  49 000a C160     		str	r1, [r0, #12]
  51:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****   q->last = 0; /* queueSize-1; */
  50              		.loc 1 51 3 is_stmt 1 view .LVU7
  51              		.loc 1 51 11 is_stmt 0 view .LVU8
  52 000c 0161     		str	r1, [r0, #16]
  52:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****   q->byteCount = 0;
  53              		.loc 1 52 3 is_stmt 1 view .LVU9
  54              		.loc 1 52 16 is_stmt 0 view .LVU10
  55 000e 4161     		str	r1, [r0, #20]
  53:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****   q->elementCount = 0;
  56              		.loc 1 53 3 is_stmt 1 view .LVU11
  57              		.loc 1 53 19 is_stmt 0 view .LVU12
  58 0010 8161     		str	r1, [r0, #24]
  54:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****   q->queueMaxSize = queueSize;
  59              		.loc 1 54 3 is_stmt 1 view .LVU13
  60              		.loc 1 54 19 is_stmt 0 view .LVU14
  61 0012 4260     		str	r2, [r0, #4]
ARM GAS  /var/folders/lt/l_qrc8c54t93n_phsj7cf5tc0000gn/T//cchDC8hM.s 			page 3


  55:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****   q->elementSize = elementSize;
  62              		.loc 1 55 3 is_stmt 1 view .LVU15
  63              		.loc 1 55 18 is_stmt 0 view .LVU16
  64 0014 0381     		strh	r3, [r0, #8]	@ movhi
  56:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****   q->optionFlags = optionFlags;
  65              		.loc 1 56 3 is_stmt 1 view .LVU17
  66              		.loc 1 56 18 is_stmt 0 view .LVU18
  67 0016 0477     		strb	r4, [r0, #28]
  57:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c **** 
  58:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****    if ((optionFlags & CIRCULAR_QUEUE_SPLIT_IF_WRAPPING_FLAG) && q-> elementSize)
  68              		.loc 1 58 4 is_stmt 1 view .LVU19
  69              		.loc 1 58 7 is_stmt 0 view .LVU20
  70 0018 14F0020F 		tst	r4, #2
  71 001c 02D0     		beq	.L3
  72              		.loc 1 58 62 discriminator 1 view .LVU21
  73 001e 2BB9     		cbnz	r3, .L4
  59:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****    {
  60:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****     /* can not deal with splitting at the end of buffer with fixed size element */
  61:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****     return -1;
  62:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****   }
  63:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****   return 0;
  74              		.loc 1 63 10 view .LVU22
  75 0020 0846     		mov	r0, r1
  76              	.LVL2:
  77              		.loc 1 63 10 view .LVU23
  78 0022 00E0     		b	.L1
  79              	.LVL3:
  80              	.L3:
  81              		.loc 1 63 10 view .LVU24
  82 0024 0020     		movs	r0, #0
  83              	.LVL4:
  84              	.L1:
  64:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c **** }
  85              		.loc 1 64 1 view .LVU25
  86 0026 5DF8044B 		ldr	r4, [sp], #4
  87              	.LCFI1:
  88              		.cfi_remember_state
  89              		.cfi_restore 4
  90              		.cfi_def_cfa_offset 0
  91              	.LVL5:
  92              		.loc 1 64 1 view .LVU26
  93 002a 7047     		bx	lr
  94              	.LVL6:
  95              	.L4:
  96              	.LCFI2:
  97              		.cfi_restore_state
  61:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****   }
  98              		.loc 1 61 12 view .LVU27
  99 002c 4FF0FF30 		mov	r0, #-1
 100              	.LVL7:
  61:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****   }
 101              		.loc 1 61 12 view .LVU28
 102 0030 F9E7     		b	.L1
 103              		.cfi_endproc
 104              	.LFE1261:
 106              		.section	.text.CircularQueue_Add,"ax",%progbits
 107              		.align	1
ARM GAS  /var/folders/lt/l_qrc8c54t93n_phsj7cf5tc0000gn/T//cchDC8hM.s 			page 4


 108              		.global	CircularQueue_Add
 109              		.syntax unified
 110              		.thumb
 111              		.thumb_func
 112              		.fpu fpv4-sp-d16
 114              	CircularQueue_Add:
 115              	.LVL8:
 116              	.LFB1262:
  65:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c **** 
  66:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c **** /**
  67:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****   * @brief   Add  element to the queue .
  68:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****   * @note   This function is used to add one or more  element(s) to the Circular Queue .  
  69:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****   * @param  q: pointer on queue structure   to be handled
  70:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****   * @param  X; pointer on element(s) to be added 
  71:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****   * @param  elementSize:  Size of element to be added to the queue. Only used if the queue manage v
  72:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****   * @param  nbElements:  number of elements in the in buffer pointed by x
  73:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****   * @retval  pointer on last element just added to the queue, NULL if the element to be added do no
  74:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****   */
  75:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c **** uint8_t* CircularQueue_Add(queue_t *q, uint8_t* x, uint16_t elementSize, uint32_t nbElements)
  76:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c **** {
 117              		.loc 1 76 1 is_stmt 1 view -0
 118              		.cfi_startproc
 119              		@ args = 0, pretend = 0, frame = 16
 120              		@ frame_needed = 0, uses_anonymous_args = 0
 121              		.loc 1 76 1 is_stmt 0 view .LVU30
 122 0000 2DE9F04F 		push	{r4, r5, r6, r7, r8, r9, r10, fp, lr}
 123              	.LCFI3:
 124              		.cfi_def_cfa_offset 36
 125              		.cfi_offset 4, -36
 126              		.cfi_offset 5, -32
 127              		.cfi_offset 6, -28
 128              		.cfi_offset 7, -24
 129              		.cfi_offset 8, -20
 130              		.cfi_offset 9, -16
 131              		.cfi_offset 10, -12
 132              		.cfi_offset 11, -8
 133              		.cfi_offset 14, -4
 134 0004 85B0     		sub	sp, sp, #20
 135              	.LCFI4:
 136              		.cfi_def_cfa_offset 56
 137 0006 0446     		mov	r4, r0
 138 0008 0291     		str	r1, [sp, #8]
 139 000a 9A46     		mov	r10, r3
  77:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c **** 
  78:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****   uint8_t* ptr = NULL;                      /* fct return ptr to the element freshly added, if no r
 140              		.loc 1 78 3 is_stmt 1 view .LVU31
 141              	.LVL9:
  79:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****   uint16_t curElementSize = 0;              /* the size of the element currently  stored at q->last
 142              		.loc 1 79 3 view .LVU32
  80:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****   uint8_t  elemSizeStorageRoom  = 0 ;       /* Indicate the header (which contain only size) of ele
 143              		.loc 1 80 3 view .LVU33
  81:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****   uint32_t curBuffPosition;                  /* the current position in the queue buffer */
 144              		.loc 1 81 3 view .LVU34
  82:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****   uint32_t i;                               /* loop counter */
 145              		.loc 1 82 3 view .LVU35
  83:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****   uint32_t NbBytesToCopy = 0, NbCopiedBytes = 0 ; /* Indicators for copying bytes in queue */
 146              		.loc 1 83 3 view .LVU36
ARM GAS  /var/folders/lt/l_qrc8c54t93n_phsj7cf5tc0000gn/T//cchDC8hM.s 			page 5


  84:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****   uint32_t eob_free_size;                         /* Eof End of Quque Buffer Free Size */
 147              		.loc 1 84 3 view .LVU37
  85:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****   uint8_t  wrap_will_occur = 0;                   /* indicate if a wrap around will occurs */
 148              		.loc 1 85 3 view .LVU38
  86:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****   uint8_t  wrapped_element_eob_size;              /* In case of Wrap around, indicat size of parta 
 149              		.loc 1 86 3 view .LVU39
  87:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****   uint16_t overhead = 0;                          /* In case of CIRCULAR_QUEUE_SPLIT_IF_WRAPPING_FL
 150              		.loc 1 87 3 view .LVU40
  88:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****                                                      indcate the size overhead that will be generat
  89:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****   
  90:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****   
  91:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****   elemSizeStorageRoom  = (q->elementSize == 0) ? 2 : 0;
 151              		.loc 1 91 3 view .LVU41
 152              		.loc 1 91 28 is_stmt 0 view .LVU42
 153 000c 0689     		ldrh	r6, [r0, #8]
 154              		.loc 1 91 24 view .LVU43
 155 000e C6B9     		cbnz	r6, .L30
 156 0010 4FF0020B 		mov	fp, #2
 157              	.L7:
 158              	.LVL10:
  92:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****   /* retrieve the size of last element sored: the value stored at the beginning of the queue elemen
  93:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****   if (q->byteCount)
 159              		.loc 1 93 3 is_stmt 1 discriminator 4 view .LVU44
 160              		.loc 1 93 8 is_stmt 0 discriminator 4 view .LVU45
 161 0014 6169     		ldr	r1, [r4, #20]
 162              	.LVL11:
 163              		.loc 1 93 6 discriminator 4 view .LVU46
 164 0016 B9B1     		cbz	r1, .L31
  94:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****   {
  95:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****     curElementSize = (q->elementSize == 0) ? q->qBuff[q->last] + ((q->qBuff[MOD((q->last+1), q->que
 165              		.loc 1 95 5 is_stmt 1 view .LVU47
 166              		.loc 1 95 20 is_stmt 0 view .LVU48
 167 0018 16BB     		cbnz	r6, .L32
 168              		.loc 1 95 47 discriminator 1 view .LVU49
 169 001a 2568     		ldr	r5, [r4]
 170              		.loc 1 95 56 discriminator 1 view .LVU50
 171 001c 2369     		ldr	r3, [r4, #16]
 172              	.LVL12:
 173              		.loc 1 95 54 discriminator 1 view .LVU51
 174 001e 15F80380 		ldrb	r8, [r5, r3]	@ zero_extendqisi2
 175              		.loc 1 95 77 discriminator 1 view .LVU52
 176 0022 581C     		adds	r0, r3, #1
 177              	.LVL13:
 178              		.loc 1 95 77 discriminator 1 view .LVU53
 179 0024 6768     		ldr	r7, [r4, #4]
 180 0026 B842     		cmp	r0, r7
 181 0028 01D3     		bcc	.L9
 182              		.loc 1 95 77 discriminator 3 view .LVU54
 183 002a DB1B     		subs	r3, r3, r7
 184 002c 581C     		adds	r0, r3, #1
 185              	.L9:
 186              		.loc 1 95 76 discriminator 6 view .LVU55
 187 002e 2B5C     		ldrb	r3, [r5, r0]	@ zero_extendqisi2
 188              		.loc 1 95 64 discriminator 6 view .LVU56
 189 0030 08EB0328 		add	r8, r8, r3, lsl #8
 190 0034 1FFA88F8 		uxth	r8, r8
 191              		.loc 1 95 20 discriminator 6 view .LVU57
ARM GAS  /var/folders/lt/l_qrc8c54t93n_phsj7cf5tc0000gn/T//cchDC8hM.s 			page 6


 192 0038 08F10208 		add	r8, r8, #2
 193 003c 1FFA88F8 		uxth	r8, r8
 194 0040 04E0     		b	.L8
 195              	.LVL14:
 196              	.L30:
  91:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****   /* retrieve the size of last element sored: the value stored at the beginning of the queue elemen
 197              		.loc 1 91 24 view .LVU58
 198 0042 4FF0000B 		mov	fp, #0
 199 0046 E5E7     		b	.L7
 200              	.LVL15:
 201              	.L31:
  79:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****   uint8_t  elemSizeStorageRoom  = 0 ;       /* Indicate the header (which contain only size) of ele
 202              		.loc 1 79 12 view .LVU59
 203 0048 4FF00008 		mov	r8, #0
 204              	.LVL16:
 205              	.L8:
  96:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****   }
  97:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****   /* if queue element have fixed size , reset the elementSize arg with fixed element size value */
  98:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****   if (q->elementSize > 0)               
 206              		.loc 1 98 3 is_stmt 1 view .LVU60
 207              		.loc 1 98 6 is_stmt 0 view .LVU61
 208 004c 06B9     		cbnz	r6, .L10
 209 004e 1646     		mov	r6, r2
 210              	.L10:
 211              	.LVL17:
  99:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****   {
 100:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****     elementSize = q->elementSize;
 101:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****   }
 102:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c **** 
 103:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****    eob_free_size = (q->last >= q->first) ? q->queueMaxSize - (q->last + curElementSize) : 0;
 212              		.loc 1 103 4 is_stmt 1 view .LVU62
 213              		.loc 1 103 22 is_stmt 0 view .LVU63
 214 0050 2269     		ldr	r2, [r4, #16]
 215              		.loc 1 103 33 view .LVU64
 216 0052 E368     		ldr	r3, [r4, #12]
 217              		.loc 1 103 89 view .LVU65
 218 0054 9A42     		cmp	r2, r3
 219 0056 05D3     		bcc	.L33
 220              		.loc 1 103 45 discriminator 1 view .LVU66
 221 0058 6368     		ldr	r3, [r4, #4]
 222              		.loc 1 103 71 discriminator 1 view .LVU67
 223 005a 4244     		add	r2, r2, r8
 224              		.loc 1 103 89 discriminator 1 view .LVU68
 225 005c 9A1A     		subs	r2, r3, r2
 226 005e 02E0     		b	.L11
 227              	.LVL18:
 228              	.L32:
  95:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****   }
 229              		.loc 1 95 20 view .LVU69
 230 0060 B046     		mov	r8, r6
 231 0062 F3E7     		b	.L8
 232              	.LVL19:
 233              	.L33:
 234              		.loc 1 103 89 view .LVU70
 235 0064 0022     		movs	r2, #0
 236              	.L11:
 237              	.LVL20:
ARM GAS  /var/folders/lt/l_qrc8c54t93n_phsj7cf5tc0000gn/T//cchDC8hM.s 			page 7


 104:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c **** 
 105:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****    /* check how many bytes of wrapped element (if anay) are at end of buffer */
 106:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****    wrapped_element_eob_size = (((elementSize + elemSizeStorageRoom )*nbElements) < eob_free_size) ?
 238              		.loc 1 106 4 is_stmt 1 discriminator 4 view .LVU71
 239              		.loc 1 106 46 is_stmt 0 discriminator 4 view .LVU72
 240 0066 06EB0B00 		add	r0, r6, fp
 241              		.loc 1 106 69 discriminator 4 view .LVU73
 242 006a 0AFB00F5 		mul	r5, r10, r0
 243              		.loc 1 106 29 discriminator 4 view .LVU74
 244 006e 9542     		cmp	r5, r2
 245 0070 05D3     		bcc	.L34
 246              		.loc 1 106 120 discriminator 1 view .LVU75
 247 0072 B2FBF0F3 		udiv	r3, r2, r0
 248 0076 00FB1323 		mls	r3, r0, r3, r2
 249              		.loc 1 106 29 discriminator 1 view .LVU76
 250 007a DBB2     		uxtb	r3, r3
 251 007c 00E0     		b	.L12
 252              	.L34:
 253              		.loc 1 106 29 view .LVU77
 254 007e 0023     		movs	r3, #0
 255              	.L12:
 256              	.LVL21:
 107:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****    wrap_will_occur  = wrapped_element_eob_size > elemSizeStorageRoom;
 257              		.loc 1 107 4 is_stmt 1 discriminator 4 view .LVU78
 108:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c **** 
 109:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****    overhead = (wrap_will_occur && (q->optionFlags & CIRCULAR_QUEUE_NO_WRAP_FLAG)) ? wrapped_element
 258              		.loc 1 109 4 discriminator 4 view .LVU79
 259              		.loc 1 109 13 is_stmt 0 discriminator 4 view .LVU80
 260 0080 9B45     		cmp	fp, r3
 261 0082 05D2     		bcs	.L35
 262              		.loc 1 109 37 discriminator 1 view .LVU81
 263 0084 227F     		ldrb	r2, [r4, #28]	@ zero_extendqisi2
 264              	.LVL22:
 265              		.loc 1 109 32 discriminator 1 view .LVU82
 266 0086 12F0010F 		tst	r2, #1
 267 008a 16D0     		beq	.L36
 268              		.loc 1 109 13 discriminator 3 view .LVU83
 269 008c 9AB2     		uxth	r2, r3
 270 008e 00E0     		b	.L13
 271              	.LVL23:
 272              	.L35:
 273              		.loc 1 109 13 view .LVU84
 274 0090 0022     		movs	r2, #0
 275              	.LVL24:
 276              	.L13:
 110:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****    overhead = (wrap_will_occur && (q->optionFlags & CIRCULAR_QUEUE_SPLIT_IF_WRAPPING_FLAG)) ? elemS
 277              		.loc 1 110 4 is_stmt 1 discriminator 6 view .LVU85
 278              		.loc 1 110 13 is_stmt 0 discriminator 6 view .LVU86
 279 0092 9B45     		cmp	fp, r3
 280 0094 05D2     		bcs	.L14
 281              		.loc 1 110 37 discriminator 1 view .LVU87
 282 0096 237F     		ldrb	r3, [r4, #28]	@ zero_extendqisi2
 283              	.LVL25:
 284              		.loc 1 110 32 discriminator 1 view .LVU88
 285 0098 13F0020F 		tst	r3, #2
 286 009c 01D0     		beq	.L14
 287              		.loc 1 110 13 discriminator 3 view .LVU89
ARM GAS  /var/folders/lt/l_qrc8c54t93n_phsj7cf5tc0000gn/T//cchDC8hM.s 			page 8


 288 009e 1FFA8BF2 		uxth	r2, fp
 289              	.LVL26:
 290              	.L14:
 111:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****    
 112:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****    
 113:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****   /* Store now the elements if ennough room for all elements */
 114:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****   if (elementSize && ((q->byteCount + ((elementSize + elemSizeStorageRoom )*nbElements) + overhead)
 291              		.loc 1 114 3 is_stmt 1 discriminator 6 view .LVU90
 292              		.loc 1 114 6 is_stmt 0 discriminator 6 view .LVU91
 293 00a2 002E     		cmp	r6, #0
 294 00a4 00F0C380 		beq	.L37
 295              		.loc 1 114 37 discriminator 1 view .LVU92
 296 00a8 2944     		add	r1, r1, r5
 297              		.loc 1 114 89 discriminator 1 view .LVU93
 298 00aa 1144     		add	r1, r1, r2
 299              		.loc 1 114 105 discriminator 1 view .LVU94
 300 00ac 6368     		ldr	r3, [r4, #4]
 301              		.loc 1 114 19 discriminator 1 view .LVU95
 302 00ae 9942     		cmp	r1, r3
 303 00b0 05D8     		bhi	.L42
  83:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****   uint32_t eob_free_size;                         /* Eof End of Quque Buffer Free Size */
 304              		.loc 1 83 31 view .LVU96
 305 00b2 0023     		movs	r3, #0
 306 00b4 0193     		str	r3, [sp, #4]
 115:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****   { 
 116:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****     /* loop to add all elements  */
 117:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****     for (i=0; i < nbElements; i++) 
 307              		.loc 1 117 11 view .LVU97
 308 00b6 1F46     		mov	r7, r3
 309 00b8 1DE0     		b	.L16
 310              	.LVL27:
 311              	.L36:
 109:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****    overhead = (wrap_will_occur && (q->optionFlags & CIRCULAR_QUEUE_SPLIT_IF_WRAPPING_FLAG)) ? elemS
 312              		.loc 1 109 13 view .LVU98
 313 00ba 0022     		movs	r2, #0
 314 00bc E9E7     		b	.L13
 315              	.LVL28:
 316              	.L42:
 118:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****     {
 119:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****       q->last = MOD ((q->last + curElementSize),q->queueMaxSize);
 120:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****       curBuffPosition = q->last;
 121:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****       
 122:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****       /* store the element  */
 123:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****       /* store fisrt the element size if element size is varaible */
 124:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****       if (q->elementSize == 0) 
 125:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****       {
 126:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****         q->qBuff[curBuffPosition++]= elementSize & 0xFF;
 127:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****         curBuffPosition = MOD(curBuffPosition, q->queueMaxSize);
 128:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****         q->qBuff[curBuffPosition++]= (elementSize & 0xFF00) >> 8 ;
 129:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****         curBuffPosition = MOD(curBuffPosition, q->queueMaxSize);
 130:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****         q->byteCount += 2;
 131:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****       }
 132:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****       
 133:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****       /* Identify number of bytes of copy takeing account possible wrap, in this case NbBytesToCopy
 134:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****       NbBytesToCopy = MIN((q->queueMaxSize-curBuffPosition),elementSize);
 135:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****       /* check if no wrap (NbBytesToCopy == elementSize) or if Wrap and no spsicf option; 
 136:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****          In thi case part of data will copied at the end of the buffer and the rest a the beggining
ARM GAS  /var/folders/lt/l_qrc8c54t93n_phsj7cf5tc0000gn/T//cchDC8hM.s 			page 9


 137:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****       if ((NbBytesToCopy == elementSize) || ((NbBytesToCopy < elementSize) && (q->optionFlags == CI
 138:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****       {
 139:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****         /* Copy First part (or emtire buffer ) from current position up to the end of the buffer qu
 140:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****         memcpy(&q->qBuff[curBuffPosition],&x[i*elementSize],NbBytesToCopy);
 141:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****         /* Adjust bytes count */
 142:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****         q->byteCount += NbBytesToCopy;
 143:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****         /* Wrap */
 144:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****         curBuffPosition = 0; 
 145:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****         /* set NbCopiedBytes bytes with  ampount copied */
 146:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****         NbCopiedBytes = NbBytesToCopy;
 147:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****         /* set the rest to copy if wrao , if no wrap will be 0 */
 148:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****         NbBytesToCopy = elementSize - NbBytesToCopy;
 149:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****         /* set the current element Size, will be used to calaculate next last position at beggining
 150:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****         curElementSize = (elementSize) + elemSizeStorageRoom ;
 151:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****       }
 152:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****       else if (NbBytesToCopy)  /* We have a wrap  to manage */
 153:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****       {
 154:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****        /* case of CIRCULAR_QUEUE_NO_WRAP_FLAG option */
 155:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****          if (q->optionFlags & CIRCULAR_QUEUE_NO_WRAP_FLAG)
 156:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****         {
 157:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****           /* if element size are variable and NO_WRAP option, Invalidate end of buffer setting 0xFF
 158:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****           if (q->elementSize == 0)
 159:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****           {
 160:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****              q->qBuff[curBuffPosition-2] = 0xFF;
 161:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****              q->qBuff[curBuffPosition-1] = 0xFF;
 162:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****           }
 163:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****           q->byteCount += NbBytesToCopy;  /* invalid data at the end of buffer are take into accoun
 164:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****           /* No bytes coped a the end of buffer */
 165:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****           NbCopiedBytes = 0;
 166:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****           /* all element to be copied at the begnning of buffer */
 167:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****           NbBytesToCopy = elementSize; 
 168:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****           /* Wrap */
 169:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****           curBuffPosition = 0; 
 170:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****           /* if variable size element, invalidate end of buffer setting OxFFFF in element header (s
 171:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****           if (q->elementSize == 0)
 172:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****           {
 173:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****             q->qBuff[curBuffPosition++] = NbBytesToCopy & 0xFF;
 174:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****             q->qBuff[curBuffPosition++] = (NbBytesToCopy & 0xFF00) >> 8 ;
 175:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****             q->byteCount += 2;   
 176:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****           } 
 177:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****            
 178:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****         }
 179:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****         /* case of CIRCULAR_QUEUE_SPLIT_IF_WRAPPING_FLAG option */
 180:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****         else if (q->optionFlags & CIRCULAR_QUEUE_SPLIT_IF_WRAPPING_FLAG)
 181:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****         {
 182:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****           if (q->elementSize == 0)
 183:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****           {
 184:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****             /* reset the size of current element to the nb bytes fitting at the end of buffer */
 185:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****              q->qBuff[curBuffPosition-2] = NbBytesToCopy & 0xFF;
 186:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****              q->qBuff[curBuffPosition-1] = (NbBytesToCopy & 0xFF00) >> 8 ;
 187:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****              /* copy the bytes */ 
 188:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****              memcpy(&q->qBuff[curBuffPosition],&x[i*elementSize],NbBytesToCopy);
 189:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****              q->byteCount += NbBytesToCopy; 
 190:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****              /* set the number of copied bytes */
 191:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****              NbCopiedBytes = NbBytesToCopy;             
 192:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****              /* set rest of data to be copied to begnning of buffer */
 193:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****              NbBytesToCopy = elementSize - NbBytesToCopy;
ARM GAS  /var/folders/lt/l_qrc8c54t93n_phsj7cf5tc0000gn/T//cchDC8hM.s 			page 10


 194:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****              /* one element more dur to split in 2 elements */
 195:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****              q->elementCount++;
 196:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****              /* Wrap */
 197:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****              curBuffPosition = 0; 
 198:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****              /* Set new size for rest of data */
 199:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****              q->qBuff[curBuffPosition++] = NbBytesToCopy & 0xFF;
 200:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****              q->qBuff[curBuffPosition++] = (NbBytesToCopy & 0xFF00) >> 8 ;
 201:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****              q->byteCount += 2;              
 202:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****           }
 203:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****           else
 204:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****           {
 205:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****             /* Should not occur */
 206:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****             /* can not manage split Flag on Fixed size element */
 207:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****             /* Buffer is corrupted */
 208:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****             return NULL;
 209:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****           }
 210:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****         }
 211:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****         curElementSize = (NbBytesToCopy) + elemSizeStorageRoom ;
 212:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****         q->last = 0;        
 213:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****       }  
 214:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****       
 215:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****       /* some remaning byte to copy */
 216:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****       if (NbBytesToCopy)      
 217:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****       {
 218:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****         memcpy(&q->qBuff[curBuffPosition],&x[(i*elementSize)+NbCopiedBytes],NbBytesToCopy);
 219:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****         q->byteCount += NbBytesToCopy;
 220:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****       }      
 221:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****       
 222:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****       /* One more element */
 223:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****       q->elementCount++;
 224:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****     }
 225:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****     
 226:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****     ptr = q->qBuff + (MOD((q->last+elemSizeStorageRoom ),q->queueMaxSize));
 227:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****   }
 228:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****   /* for Breakpoint only...to remove */
 229:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****   else
 230:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****   {
 231:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****     return NULL;
 317              		.loc 1 231 12 view .LVU99
 318 00be 0020     		movs	r0, #0
 319 00c0 B2E0     		b	.L6
 320              	.LVL29:
 321              	.L21:
 140:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****         /* Adjust bytes count */
 322              		.loc 1 140 9 is_stmt 1 view .LVU100
 140:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****         /* Adjust bytes count */
 323              		.loc 1 140 18 is_stmt 0 view .LVU101
 324 00c2 2068     		ldr	r0, [r4]
 140:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****         /* Adjust bytes count */
 325              		.loc 1 140 9 view .LVU102
 326 00c4 2A46     		mov	r2, r5
 327 00c6 0299     		ldr	r1, [sp, #8]
 328 00c8 07FB0911 		mla	r1, r7, r9, r1
 329 00cc 1844     		add	r0, r0, r3
 330 00ce FFF7FEFF 		bl	memcpy
 331              	.LVL30:
 142:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****         /* Wrap */
ARM GAS  /var/folders/lt/l_qrc8c54t93n_phsj7cf5tc0000gn/T//cchDC8hM.s 			page 11


 332              		.loc 1 142 9 is_stmt 1 view .LVU103
 142:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****         /* Wrap */
 333              		.loc 1 142 22 is_stmt 0 view .LVU104
 334 00d2 6369     		ldr	r3, [r4, #20]
 335 00d4 2B44     		add	r3, r3, r5
 336 00d6 6361     		str	r3, [r4, #20]
 144:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****         /* set NbCopiedBytes bytes with  ampount copied */
 337              		.loc 1 144 9 is_stmt 1 view .LVU105
 338              	.LVL31:
 146:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****         /* set the rest to copy if wrao , if no wrap will be 0 */
 339              		.loc 1 146 9 view .LVU106
 148:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****         /* set the current element Size, will be used to calaculate next last position at beggining
 340              		.loc 1 148 9 view .LVU107
 150:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****       }
 341              		.loc 1 150 9 view .LVU108
 150:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****       }
 342              		.loc 1 150 24 is_stmt 0 view .LVU109
 343 00d8 0BEB0608 		add	r8, fp, r6
 344              	.LVL32:
 150:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****       }
 345              		.loc 1 150 24 view .LVU110
 346 00dc 1FFA88F8 		uxth	r8, r8
 347              	.LVL33:
 146:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****         /* set the rest to copy if wrao , if no wrap will be 0 */
 348              		.loc 1 146 23 view .LVU111
 349 00e0 0195     		str	r5, [sp, #4]
 148:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****         /* set the current element Size, will be used to calaculate next last position at beggining
 350              		.loc 1 148 23 view .LVU112
 351 00e2 A9EB0505 		sub	r5, r9, r5
 352              	.LVL34:
 144:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****         /* set NbCopiedBytes bytes with  ampount copied */
 353              		.loc 1 144 25 view .LVU113
 354 00e6 0023     		movs	r3, #0
 355              	.LVL35:
 356              	.L23:
 216:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****       {
 357              		.loc 1 216 7 is_stmt 1 view .LVU114
 216:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****       {
 358              		.loc 1 216 10 is_stmt 0 view .LVU115
 359 00e8 002D     		cmp	r5, #0
 360 00ea 40F08480 		bne	.L43
 361              	.LVL36:
 362              	.L27:
 223:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****     }
 363              		.loc 1 223 7 is_stmt 1 discriminator 2 view .LVU116
 223:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****     }
 364              		.loc 1 223 8 is_stmt 0 discriminator 2 view .LVU117
 365 00ee A369     		ldr	r3, [r4, #24]
 223:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****     }
 366              		.loc 1 223 22 discriminator 2 view .LVU118
 367 00f0 0133     		adds	r3, r3, #1
 368 00f2 A361     		str	r3, [r4, #24]
 117:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****     {
 369              		.loc 1 117 31 is_stmt 1 discriminator 2 view .LVU119
 117:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****     {
 370              		.loc 1 117 32 is_stmt 0 discriminator 2 view .LVU120
 371 00f4 0137     		adds	r7, r7, #1
ARM GAS  /var/folders/lt/l_qrc8c54t93n_phsj7cf5tc0000gn/T//cchDC8hM.s 			page 12


 372              	.LVL37:
 373              	.L16:
 117:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****     {
 374              		.loc 1 117 15 is_stmt 1 discriminator 1 view .LVU121
 117:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****     {
 375              		.loc 1 117 5 is_stmt 0 discriminator 1 view .LVU122
 376 00f6 5745     		cmp	r7, r10
 377 00f8 80F08D80 		bcs	.L44
 119:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****       curBuffPosition = q->last;
 378              		.loc 1 119 7 is_stmt 1 view .LVU123
 119:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****       curBuffPosition = q->last;
 379              		.loc 1 119 17 is_stmt 0 view .LVU124
 380 00fc 2369     		ldr	r3, [r4, #16]
 381 00fe 4344     		add	r3, r3, r8
 382 0100 6268     		ldr	r2, [r4, #4]
 383 0102 9342     		cmp	r3, r2
 384 0104 00D3     		bcc	.L17
 119:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****       curBuffPosition = q->last;
 385              		.loc 1 119 17 discriminator 1 view .LVU125
 386 0106 9B1A     		subs	r3, r3, r2
 387              	.L17:
 119:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****       curBuffPosition = q->last;
 388              		.loc 1 119 15 discriminator 4 view .LVU126
 389 0108 2361     		str	r3, [r4, #16]
 120:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****       
 390              		.loc 1 120 7 is_stmt 1 discriminator 4 view .LVU127
 391              	.LVL38:
 124:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****       {
 392              		.loc 1 124 7 discriminator 4 view .LVU128
 124:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****       {
 393              		.loc 1 124 12 is_stmt 0 discriminator 4 view .LVU129
 394 010a 2289     		ldrh	r2, [r4, #8]
 124:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****       {
 395              		.loc 1 124 10 discriminator 4 view .LVU130
 396 010c 8AB9     		cbnz	r2, .L18
 126:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****         curBuffPosition = MOD(curBuffPosition, q->queueMaxSize);
 397              		.loc 1 126 9 is_stmt 1 view .LVU131
 126:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****         curBuffPosition = MOD(curBuffPosition, q->queueMaxSize);
 398              		.loc 1 126 10 is_stmt 0 view .LVU132
 399 010e 2168     		ldr	r1, [r4]
 126:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****         curBuffPosition = MOD(curBuffPosition, q->queueMaxSize);
 400              		.loc 1 126 33 view .LVU133
 401 0110 5A1C     		adds	r2, r3, #1
 402              	.LVL39:
 126:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****         curBuffPosition = MOD(curBuffPosition, q->queueMaxSize);
 403              		.loc 1 126 36 view .LVU134
 404 0112 CE54     		strb	r6, [r1, r3]
 127:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****         q->qBuff[curBuffPosition++]= (elementSize & 0xFF00) >> 8 ;
 405              		.loc 1 127 9 is_stmt 1 view .LVU135
 127:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****         q->qBuff[curBuffPosition++]= (elementSize & 0xFF00) >> 8 ;
 406              		.loc 1 127 27 is_stmt 0 view .LVU136
 407 0114 6368     		ldr	r3, [r4, #4]
 408 0116 9342     		cmp	r3, r2
 409 0118 00D8     		bhi	.L19
 127:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****         q->qBuff[curBuffPosition++]= (elementSize & 0xFF00) >> 8 ;
 410              		.loc 1 127 27 discriminator 1 view .LVU137
 411 011a D21A     		subs	r2, r2, r3
ARM GAS  /var/folders/lt/l_qrc8c54t93n_phsj7cf5tc0000gn/T//cchDC8hM.s 			page 13


 412              	.LVL40:
 413              	.L19:
 128:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****         curBuffPosition = MOD(curBuffPosition, q->queueMaxSize);
 414              		.loc 1 128 9 is_stmt 1 discriminator 4 view .LVU138
 128:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****         curBuffPosition = MOD(curBuffPosition, q->queueMaxSize);
 415              		.loc 1 128 61 is_stmt 0 discriminator 4 view .LVU139
 416 011c 310A     		lsrs	r1, r6, #8
 128:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****         curBuffPosition = MOD(curBuffPosition, q->queueMaxSize);
 417              		.loc 1 128 10 discriminator 4 view .LVU140
 418 011e 2068     		ldr	r0, [r4]
 128:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****         curBuffPosition = MOD(curBuffPosition, q->queueMaxSize);
 419              		.loc 1 128 33 discriminator 4 view .LVU141
 420 0120 531C     		adds	r3, r2, #1
 421              	.LVL41:
 128:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****         curBuffPosition = MOD(curBuffPosition, q->queueMaxSize);
 422              		.loc 1 128 36 discriminator 4 view .LVU142
 423 0122 8154     		strb	r1, [r0, r2]
 129:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****         q->byteCount += 2;
 424              		.loc 1 129 9 is_stmt 1 discriminator 4 view .LVU143
 129:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****         q->byteCount += 2;
 425              		.loc 1 129 27 is_stmt 0 discriminator 4 view .LVU144
 426 0124 6268     		ldr	r2, [r4, #4]
 427 0126 9A42     		cmp	r2, r3
 428 0128 00D8     		bhi	.L20
 129:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****         q->byteCount += 2;
 429              		.loc 1 129 27 discriminator 1 view .LVU145
 430 012a 9B1A     		subs	r3, r3, r2
 431              	.LVL42:
 432              	.L20:
 130:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****       }
 433              		.loc 1 130 9 is_stmt 1 discriminator 4 view .LVU146
 130:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****       }
 434              		.loc 1 130 22 is_stmt 0 discriminator 4 view .LVU147
 435 012c 6269     		ldr	r2, [r4, #20]
 436 012e 0232     		adds	r2, r2, #2
 437 0130 6261     		str	r2, [r4, #20]
 438              	.L18:
 134:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****       /* check if no wrap (NbBytesToCopy == elementSize) or if Wrap and no spsicf option; 
 439              		.loc 1 134 7 is_stmt 1 view .LVU148
 134:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****       /* check if no wrap (NbBytesToCopy == elementSize) or if Wrap and no spsicf option; 
 440              		.loc 1 134 23 is_stmt 0 view .LVU149
 441 0132 B146     		mov	r9, r6
 442 0134 6568     		ldr	r5, [r4, #4]
 443 0136 ED1A     		subs	r5, r5, r3
 134:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****       /* check if no wrap (NbBytesToCopy == elementSize) or if Wrap and no spsicf option; 
 444              		.loc 1 134 21 view .LVU150
 445 0138 B542     		cmp	r5, r6
 446 013a 28BF     		it	cs
 447 013c 3546     		movcs	r5, r6
 448              	.LVL43:
 137:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****       {
 449              		.loc 1 137 7 is_stmt 1 view .LVU151
 137:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****       {
 450              		.loc 1 137 10 is_stmt 0 view .LVU152
 451 013e AE42     		cmp	r6, r5
 452 0140 BFD0     		beq	.L21
 137:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****       {
ARM GAS  /var/folders/lt/l_qrc8c54t93n_phsj7cf5tc0000gn/T//cchDC8hM.s 			page 14


 453              		.loc 1 137 42 discriminator 1 view .LVU153
 454 0142 02D9     		bls	.L22
 137:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****       {
 455              		.loc 1 137 81 discriminator 2 view .LVU154
 456 0144 227F     		ldrb	r2, [r4, #28]	@ zero_extendqisi2
 137:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****       {
 457              		.loc 1 137 76 discriminator 2 view .LVU155
 458 0146 002A     		cmp	r2, #0
 459 0148 BBD0     		beq	.L21
 460              	.L22:
 152:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****       {
 461              		.loc 1 152 12 is_stmt 1 view .LVU156
 152:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****       {
 462              		.loc 1 152 15 is_stmt 0 view .LVU157
 463 014a 002D     		cmp	r5, #0
 464 014c CCD0     		beq	.L23
 155:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****         {
 465              		.loc 1 155 10 is_stmt 1 view .LVU158
 155:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****         {
 466              		.loc 1 155 15 is_stmt 0 view .LVU159
 467 014e 227F     		ldrb	r2, [r4, #28]	@ zero_extendqisi2
 155:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****         {
 468              		.loc 1 155 13 view .LVU160
 469 0150 12F0010F 		tst	r2, #1
 470 0154 22D0     		beq	.L24
 158:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****           {
 471              		.loc 1 158 11 is_stmt 1 view .LVU161
 158:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****           {
 472              		.loc 1 158 16 is_stmt 0 view .LVU162
 473 0156 2289     		ldrh	r2, [r4, #8]
 158:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****           {
 474              		.loc 1 158 14 view .LVU163
 475 0158 32B9     		cbnz	r2, .L25
 160:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****              q->qBuff[curBuffPosition-1] = 0xFF;
 476              		.loc 1 160 14 is_stmt 1 view .LVU164
 160:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****              q->qBuff[curBuffPosition-1] = 0xFF;
 477              		.loc 1 160 15 is_stmt 0 view .LVU165
 478 015a 2068     		ldr	r0, [r4]
 160:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****              q->qBuff[curBuffPosition-1] = 0xFF;
 479              		.loc 1 160 22 view .LVU166
 480 015c 991E     		subs	r1, r3, #2
 160:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****              q->qBuff[curBuffPosition-1] = 0xFF;
 481              		.loc 1 160 42 view .LVU167
 482 015e FF22     		movs	r2, #255
 483 0160 4254     		strb	r2, [r0, r1]
 161:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****           }
 484              		.loc 1 161 14 is_stmt 1 view .LVU168
 161:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****           }
 485              		.loc 1 161 15 is_stmt 0 view .LVU169
 486 0162 2168     		ldr	r1, [r4]
 161:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****           }
 487              		.loc 1 161 22 view .LVU170
 488 0164 013B     		subs	r3, r3, #1
 489              	.LVL44:
 161:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****           }
 490              		.loc 1 161 42 view .LVU171
 491 0166 CA54     		strb	r2, [r1, r3]
ARM GAS  /var/folders/lt/l_qrc8c54t93n_phsj7cf5tc0000gn/T//cchDC8hM.s 			page 15


 492              	.LVL45:
 493              	.L25:
 163:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****           /* No bytes coped a the end of buffer */
 494              		.loc 1 163 11 is_stmt 1 view .LVU172
 163:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****           /* No bytes coped a the end of buffer */
 495              		.loc 1 163 24 is_stmt 0 view .LVU173
 496 0168 6369     		ldr	r3, [r4, #20]
 497 016a 1D44     		add	r5, r5, r3
 498              	.LVL46:
 163:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****           /* No bytes coped a the end of buffer */
 499              		.loc 1 163 24 view .LVU174
 500 016c 6561     		str	r5, [r4, #20]
 165:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****           /* all element to be copied at the begnning of buffer */
 501              		.loc 1 165 11 is_stmt 1 view .LVU175
 502              	.LVL47:
 167:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****           /* Wrap */
 503              		.loc 1 167 11 view .LVU176
 169:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****           /* if variable size element, invalidate end of buffer setting OxFFFF in element header (s
 504              		.loc 1 169 11 view .LVU177
 171:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****           {
 505              		.loc 1 171 11 view .LVU178
 171:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****           {
 506              		.loc 1 171 16 is_stmt 0 view .LVU179
 507 016e 2389     		ldrh	r3, [r4, #8]
 171:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****           {
 508              		.loc 1 171 14 view .LVU180
 509 0170 002B     		cmp	r3, #0
 510 0172 3CD1     		bne	.L39
 173:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****             q->qBuff[curBuffPosition++] = (NbBytesToCopy & 0xFF00) >> 8 ;
 511              		.loc 1 173 13 is_stmt 1 view .LVU181
 173:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****             q->qBuff[curBuffPosition++] = (NbBytesToCopy & 0xFF00) >> 8 ;
 512              		.loc 1 173 14 is_stmt 0 view .LVU182
 513 0174 2368     		ldr	r3, [r4]
 514              	.LVL48:
 173:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****             q->qBuff[curBuffPosition++] = (NbBytesToCopy & 0xFF00) >> 8 ;
 515              		.loc 1 173 41 view .LVU183
 516 0176 1E70     		strb	r6, [r3]
 174:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****             q->byteCount += 2;   
 517              		.loc 1 174 13 is_stmt 1 view .LVU184
 174:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****             q->byteCount += 2;   
 518              		.loc 1 174 68 is_stmt 0 view .LVU185
 519 0178 4FEA1923 		lsr	r3, r9, #8
 174:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****             q->byteCount += 2;   
 520              		.loc 1 174 14 view .LVU186
 521 017c 2268     		ldr	r2, [r4]
 522              	.LVL49:
 174:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****             q->byteCount += 2;   
 523              		.loc 1 174 41 view .LVU187
 524 017e 5370     		strb	r3, [r2, #1]
 175:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****           } 
 525              		.loc 1 175 13 is_stmt 1 view .LVU188
 175:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****           } 
 526              		.loc 1 175 26 is_stmt 0 view .LVU189
 527 0180 6369     		ldr	r3, [r4, #20]
 528 0182 0233     		adds	r3, r3, #2
 529 0184 6361     		str	r3, [r4, #20]
 167:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****           /* Wrap */
ARM GAS  /var/folders/lt/l_qrc8c54t93n_phsj7cf5tc0000gn/T//cchDC8hM.s 			page 16


 530              		.loc 1 167 25 view .LVU190
 531 0186 4D46     		mov	r5, r9
 165:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****           /* all element to be copied at the begnning of buffer */
 532              		.loc 1 165 25 view .LVU191
 533 0188 0023     		movs	r3, #0
 534 018a 0193     		str	r3, [sp, #4]
 174:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****             q->byteCount += 2;   
 535              		.loc 1 174 37 view .LVU192
 536 018c 0223     		movs	r3, #2
 537              	.LVL50:
 538              	.L26:
 211:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****         q->last = 0;        
 539              		.loc 1 211 9 is_stmt 1 view .LVU193
 211:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****         q->last = 0;        
 540              		.loc 1 211 24 is_stmt 0 view .LVU194
 541 018e 1BFA85F8 		uxtah	r8, fp, r5
 542              	.LVL51:
 211:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****         q->last = 0;        
 543              		.loc 1 211 24 view .LVU195
 544 0192 1FFA88F8 		uxth	r8, r8
 545              	.LVL52:
 212:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****       }  
 546              		.loc 1 212 9 is_stmt 1 view .LVU196
 212:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****       }  
 547              		.loc 1 212 17 is_stmt 0 view .LVU197
 548 0196 0022     		movs	r2, #0
 549 0198 2261     		str	r2, [r4, #16]
 550 019a A5E7     		b	.L23
 551              	.L24:
 180:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****         {
 552              		.loc 1 180 14 is_stmt 1 view .LVU198
 180:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****         {
 553              		.loc 1 180 17 is_stmt 0 view .LVU199
 554 019c 12F0020F 		tst	r2, #2
 555 01a0 F5D0     		beq	.L26
 182:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****           {
 556              		.loc 1 182 11 is_stmt 1 view .LVU200
 182:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****           {
 557              		.loc 1 182 16 is_stmt 0 view .LVU201
 558 01a2 2289     		ldrh	r2, [r4, #8]
 182:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****           {
 559              		.loc 1 182 14 view .LVU202
 560 01a4 002A     		cmp	r2, #0
 561 01a6 44D1     		bne	.L40
 185:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****              q->qBuff[curBuffPosition-1] = (NbBytesToCopy & 0xFF00) >> 8 ;
 562              		.loc 1 185 14 is_stmt 1 view .LVU203
 185:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****              q->qBuff[curBuffPosition-1] = (NbBytesToCopy & 0xFF00) >> 8 ;
 563              		.loc 1 185 15 is_stmt 0 view .LVU204
 564 01a8 2168     		ldr	r1, [r4]
 185:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****              q->qBuff[curBuffPosition-1] = (NbBytesToCopy & 0xFF00) >> 8 ;
 565              		.loc 1 185 22 view .LVU205
 566 01aa 9A1E     		subs	r2, r3, #2
 185:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****              q->qBuff[curBuffPosition-1] = (NbBytesToCopy & 0xFF00) >> 8 ;
 567              		.loc 1 185 42 view .LVU206
 568 01ac 8D54     		strb	r5, [r1, r2]
 186:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****              /* copy the bytes */ 
 569              		.loc 1 186 14 is_stmt 1 view .LVU207
ARM GAS  /var/folders/lt/l_qrc8c54t93n_phsj7cf5tc0000gn/T//cchDC8hM.s 			page 17


 186:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****              /* copy the bytes */ 
 570              		.loc 1 186 69 is_stmt 0 view .LVU208
 571 01ae 280A     		lsrs	r0, r5, #8
 186:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****              /* copy the bytes */ 
 572              		.loc 1 186 15 view .LVU209
 573 01b0 2168     		ldr	r1, [r4]
 186:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****              /* copy the bytes */ 
 574              		.loc 1 186 22 view .LVU210
 575 01b2 5A1E     		subs	r2, r3, #1
 186:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****              /* copy the bytes */ 
 576              		.loc 1 186 42 view .LVU211
 577 01b4 8854     		strb	r0, [r1, r2]
 188:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****              q->byteCount += NbBytesToCopy; 
 578              		.loc 1 188 14 is_stmt 1 view .LVU212
 188:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****              q->byteCount += NbBytesToCopy; 
 579              		.loc 1 188 23 is_stmt 0 view .LVU213
 580 01b6 2068     		ldr	r0, [r4]
 188:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****              q->byteCount += NbBytesToCopy; 
 581              		.loc 1 188 14 view .LVU214
 582 01b8 2A46     		mov	r2, r5
 583 01ba 0299     		ldr	r1, [sp, #8]
 584 01bc 07FB0911 		mla	r1, r7, r9, r1
 585 01c0 1844     		add	r0, r0, r3
 586 01c2 FFF7FEFF 		bl	memcpy
 587              	.LVL53:
 189:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****              /* set the number of copied bytes */
 588              		.loc 1 189 14 is_stmt 1 view .LVU215
 189:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****              /* set the number of copied bytes */
 589              		.loc 1 189 27 is_stmt 0 view .LVU216
 590 01c6 6369     		ldr	r3, [r4, #20]
 591 01c8 2B44     		add	r3, r3, r5
 592 01ca 6361     		str	r3, [r4, #20]
 191:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****              /* set rest of data to be copied to begnning of buffer */
 593              		.loc 1 191 14 is_stmt 1 view .LVU217
 594              	.LVL54:
 193:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****              /* one element more dur to split in 2 elements */
 595              		.loc 1 193 14 view .LVU218
 193:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****              /* one element more dur to split in 2 elements */
 596              		.loc 1 193 28 is_stmt 0 view .LVU219
 597 01cc A9EB0502 		sub	r2, r9, r5
 598              	.LVL55:
 195:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****              /* Wrap */
 599              		.loc 1 195 14 is_stmt 1 view .LVU220
 195:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****              /* Wrap */
 600              		.loc 1 195 15 is_stmt 0 view .LVU221
 601 01d0 A369     		ldr	r3, [r4, #24]
 195:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****              /* Wrap */
 602              		.loc 1 195 29 view .LVU222
 603 01d2 0133     		adds	r3, r3, #1
 604 01d4 A361     		str	r3, [r4, #24]
 197:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****              /* Set new size for rest of data */
 605              		.loc 1 197 14 is_stmt 1 view .LVU223
 606              	.LVL56:
 199:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****              q->qBuff[curBuffPosition++] = (NbBytesToCopy & 0xFF00) >> 8 ;
 607              		.loc 1 199 14 view .LVU224
 199:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****              q->qBuff[curBuffPosition++] = (NbBytesToCopy & 0xFF00) >> 8 ;
 608              		.loc 1 199 15 is_stmt 0 view .LVU225
ARM GAS  /var/folders/lt/l_qrc8c54t93n_phsj7cf5tc0000gn/T//cchDC8hM.s 			page 18


 609 01d6 2368     		ldr	r3, [r4]
 610              	.LVL57:
 199:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****              q->qBuff[curBuffPosition++] = (NbBytesToCopy & 0xFF00) >> 8 ;
 611              		.loc 1 199 42 view .LVU226
 612 01d8 1A70     		strb	r2, [r3]
 200:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****              q->byteCount += 2;              
 613              		.loc 1 200 14 is_stmt 1 view .LVU227
 200:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****              q->byteCount += 2;              
 614              		.loc 1 200 69 is_stmt 0 view .LVU228
 615 01da 110A     		lsrs	r1, r2, #8
 200:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****              q->byteCount += 2;              
 616              		.loc 1 200 15 view .LVU229
 617 01dc 2368     		ldr	r3, [r4]
 618              	.LVL58:
 200:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****              q->byteCount += 2;              
 619              		.loc 1 200 42 view .LVU230
 620 01de 5970     		strb	r1, [r3, #1]
 201:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****           }
 621              		.loc 1 201 14 is_stmt 1 view .LVU231
 201:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****           }
 622              		.loc 1 201 27 is_stmt 0 view .LVU232
 623 01e0 6369     		ldr	r3, [r4, #20]
 624 01e2 0233     		adds	r3, r3, #2
 625 01e4 6361     		str	r3, [r4, #20]
 191:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****              /* set rest of data to be copied to begnning of buffer */
 626              		.loc 1 191 28 view .LVU233
 627 01e6 0195     		str	r5, [sp, #4]
 193:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****              /* one element more dur to split in 2 elements */
 628              		.loc 1 193 28 view .LVU234
 629 01e8 1546     		mov	r5, r2
 630              	.LVL59:
 200:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****              q->byteCount += 2;              
 631              		.loc 1 200 38 view .LVU235
 632 01ea 0223     		movs	r3, #2
 633 01ec CFE7     		b	.L26
 634              	.LVL60:
 635              	.L39:
 167:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****           /* Wrap */
 636              		.loc 1 167 25 view .LVU236
 637 01ee 4D46     		mov	r5, r9
 165:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****           /* all element to be copied at the begnning of buffer */
 638              		.loc 1 165 25 view .LVU237
 639 01f0 0023     		movs	r3, #0
 640 01f2 0193     		str	r3, [sp, #4]
 641 01f4 CBE7     		b	.L26
 642              	.LVL61:
 643              	.L43:
 218:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****         q->byteCount += NbBytesToCopy;
 644              		.loc 1 218 9 is_stmt 1 view .LVU238
 218:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****         q->byteCount += NbBytesToCopy;
 645              		.loc 1 218 18 is_stmt 0 view .LVU239
 646 01f6 2068     		ldr	r0, [r4]
 647 01f8 0390     		str	r0, [sp, #12]
 218:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****         q->byteCount += NbBytesToCopy;
 648              		.loc 1 218 61 view .LVU240
 649 01fa 019A     		ldr	r2, [sp, #4]
 650 01fc 07FB0921 		mla	r1, r7, r9, r2
ARM GAS  /var/folders/lt/l_qrc8c54t93n_phsj7cf5tc0000gn/T//cchDC8hM.s 			page 19


 218:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****         q->byteCount += NbBytesToCopy;
 651              		.loc 1 218 9 view .LVU241
 652 0200 2A46     		mov	r2, r5
 653 0202 0298     		ldr	r0, [sp, #8]
 654 0204 0144     		add	r1, r1, r0
 655 0206 0398     		ldr	r0, [sp, #12]
 656 0208 1844     		add	r0, r0, r3
 657 020a FFF7FEFF 		bl	memcpy
 658              	.LVL62:
 219:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****       }      
 659              		.loc 1 219 9 is_stmt 1 view .LVU242
 219:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****       }      
 660              		.loc 1 219 22 is_stmt 0 view .LVU243
 661 020e 6369     		ldr	r3, [r4, #20]
 662 0210 1D44     		add	r5, r5, r3
 663              	.LVL63:
 219:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****       }      
 664              		.loc 1 219 22 view .LVU244
 665 0212 6561     		str	r5, [r4, #20]
 666 0214 6BE7     		b	.L27
 667              	.L44:
 226:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****   }
 668              		.loc 1 226 5 is_stmt 1 view .LVU245
 226:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****   }
 669              		.loc 1 226 12 is_stmt 0 view .LVU246
 670 0216 2068     		ldr	r0, [r4]
 226:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****   }
 671              		.loc 1 226 23 view .LVU247
 672 0218 2369     		ldr	r3, [r4, #16]
 673 021a 9B44     		add	fp, fp, r3
 674              	.LVL64:
 226:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****   }
 675              		.loc 1 226 23 view .LVU248
 676 021c 6368     		ldr	r3, [r4, #4]
 677 021e 9B45     		cmp	fp, r3
 678 0220 01D3     		bcc	.L29
 226:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****   }
 679              		.loc 1 226 23 discriminator 1 view .LVU249
 680 0222 ABEB030B 		sub	fp, fp, r3
 681              	.L29:
 226:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****   }
 682              		.loc 1 226 9 discriminator 4 view .LVU250
 683 0226 5844     		add	r0, r0, fp
 684              	.LVL65:
 232:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****   }
 233:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****   return ptr;
 685              		.loc 1 233 3 is_stmt 1 discriminator 4 view .LVU251
 686              	.L6:
 234:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c **** }
 687              		.loc 1 234 1 is_stmt 0 view .LVU252
 688 0228 05B0     		add	sp, sp, #20
 689              	.LCFI5:
 690              		.cfi_remember_state
 691              		.cfi_def_cfa_offset 36
 692              		@ sp needed
 693 022a BDE8F08F 		pop	{r4, r5, r6, r7, r8, r9, r10, fp, pc}
 694              	.LVL66:
ARM GAS  /var/folders/lt/l_qrc8c54t93n_phsj7cf5tc0000gn/T//cchDC8hM.s 			page 20


 695              	.L37:
 696              	.LCFI6:
 697              		.cfi_restore_state
 231:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****   }
 698              		.loc 1 231 12 view .LVU253
 699 022e 0020     		movs	r0, #0
 700 0230 FAE7     		b	.L6
 701              	.LVL67:
 702              	.L40:
 208:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****           }
 703              		.loc 1 208 20 view .LVU254
 704 0232 0020     		movs	r0, #0
 705 0234 F8E7     		b	.L6
 706              		.cfi_endproc
 707              	.LFE1262:
 709              		.section	.text.CircularQueue_Remove_Copy,"ax",%progbits
 710              		.align	1
 711              		.global	CircularQueue_Remove_Copy
 712              		.syntax unified
 713              		.thumb
 714              		.thumb_func
 715              		.fpu fpv4-sp-d16
 717              	CircularQueue_Remove_Copy:
 718              	.LVL68:
 719              	.LFB1263:
 235:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c **** 
 236:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c **** 
 237:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c **** /**
 238:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****   * @brief  Remove element from  the queue and copy it in provided buffer
 239:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****   * @note   This function is used to remove and element from  the Circular Queue .  
 240:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****   * @param  q: pointer on queue structure  to be handled
 241:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****   * @param  elementSize: Pointer to return Size of element to be removed  
 242:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****   * @param  buffer: destination buffer where to copy element  
 243:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****   * @retval Pointer on removed element. NULL if queue was empty
 244:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****   */
 245:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c **** uint8_t* CircularQueue_Remove_Copy(queue_t *q, uint16_t* elementSize, uint8_t* buffer)
 246:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c **** {
 720              		.loc 1 246 1 is_stmt 1 view -0
 721              		.cfi_startproc
 722              		@ args = 0, pretend = 0, frame = 0
 723              		@ frame_needed = 0, uses_anonymous_args = 0
 724              		@ link register save eliminated.
 247:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****    return NULL;
 725              		.loc 1 247 4 view .LVU256
 248:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c **** }
 726              		.loc 1 248 1 is_stmt 0 view .LVU257
 727 0000 0020     		movs	r0, #0
 728              	.LVL69:
 729              		.loc 1 248 1 view .LVU258
 730 0002 7047     		bx	lr
 731              		.cfi_endproc
 732              	.LFE1263:
 734              		.section	.text.CircularQueue_Remove,"ax",%progbits
 735              		.align	1
 736              		.global	CircularQueue_Remove
 737              		.syntax unified
 738              		.thumb
ARM GAS  /var/folders/lt/l_qrc8c54t93n_phsj7cf5tc0000gn/T//cchDC8hM.s 			page 21


 739              		.thumb_func
 740              		.fpu fpv4-sp-d16
 742              	CircularQueue_Remove:
 743              	.LVL70:
 744              	.LFB1264:
 249:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c **** 
 250:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c **** 
 251:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c **** 
 252:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c **** /**
 253:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****   * @brief  Remove element from  the queue.
 254:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****   * @note   This function is used to remove and element from  the Circular Queue .  
 255:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****   * @param  q: pointer on queue structure  to be handled
 256:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****   * @param  elementSize: Pointer to return Size of element to be removed (ignored if NULL)
 257:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****   * @retval Pointer on removed element. NULL if queue was empty
 258:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****   */
 259:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c **** uint8_t* CircularQueue_Remove(queue_t *q, uint16_t* elementSize)
 260:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c **** {
 745              		.loc 1 260 1 is_stmt 1 view -0
 746              		.cfi_startproc
 747              		@ args = 0, pretend = 0, frame = 0
 748              		@ frame_needed = 0, uses_anonymous_args = 0
 749              		.loc 1 260 1 is_stmt 0 view .LVU260
 750 0000 F0B5     		push	{r4, r5, r6, r7, lr}
 751              	.LCFI7:
 752              		.cfi_def_cfa_offset 20
 753              		.cfi_offset 4, -20
 754              		.cfi_offset 5, -16
 755              		.cfi_offset 6, -12
 756              		.cfi_offset 7, -8
 757              		.cfi_offset 14, -4
 758 0002 0346     		mov	r3, r0
 261:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****   uint8_t  elemSizeStorageRoom = 0;
 759              		.loc 1 261 3 is_stmt 1 view .LVU261
 760              	.LVL71:
 262:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****   uint8_t* ptr= NULL;
 761              		.loc 1 262 3 view .LVU262
 263:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****   elemSizeStorageRoom = (q->elementSize == 0) ? 2 : 0;
 762              		.loc 1 263 3 view .LVU263
 763              		.loc 1 263 27 is_stmt 0 view .LVU264
 764 0004 0089     		ldrh	r0, [r0, #8]
 765              	.LVL72:
 766              		.loc 1 263 23 view .LVU265
 767 0006 0028     		cmp	r0, #0
 768 0008 39D1     		bne	.L59
 769 000a 0224     		movs	r4, #2
 770              	.L47:
 771              	.LVL73:
 264:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****   uint16_t eltSize = 0;
 772              		.loc 1 264 3 is_stmt 1 discriminator 4 view .LVU266
 265:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****   if (q->byteCount > 0) 
 773              		.loc 1 265 3 discriminator 4 view .LVU267
 774              		.loc 1 265 8 is_stmt 0 discriminator 4 view .LVU268
 775 000c 5E69     		ldr	r6, [r3, #20]
 776              		.loc 1 265 6 discriminator 4 view .LVU269
 777 000e 002E     		cmp	r6, #0
 778 0010 61D0     		beq	.L60
 266:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****   {
ARM GAS  /var/folders/lt/l_qrc8c54t93n_phsj7cf5tc0000gn/T//cchDC8hM.s 			page 22


 267:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****     /* retreive element Size */
 268:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****     eltSize = (q->elementSize == 0) ? q->qBuff[q->first] + ((q->qBuff[MOD((q->first+1), q->queueMax
 779              		.loc 1 268 5 is_stmt 1 view .LVU270
 780              		.loc 1 268 13 is_stmt 0 view .LVU271
 781 0012 0028     		cmp	r0, #0
 782 0014 35D1     		bne	.L61
 783              		.loc 1 268 40 discriminator 1 view .LVU272
 784 0016 D3F800C0 		ldr	ip, [r3]
 785              		.loc 1 268 49 discriminator 1 view .LVU273
 786 001a DD68     		ldr	r5, [r3, #12]
 787              		.loc 1 268 47 discriminator 1 view .LVU274
 788 001c 1CF80520 		ldrb	r2, [ip, r5]	@ zero_extendqisi2
 789              		.loc 1 268 71 discriminator 1 view .LVU275
 790 0020 6F1C     		adds	r7, r5, #1
 791 0022 D3F804E0 		ldr	lr, [r3, #4]
 792 0026 7745     		cmp	r7, lr
 793 0028 02D3     		bcc	.L50
 794              		.loc 1 268 71 discriminator 3 view .LVU276
 795 002a A5EB0E05 		sub	r5, r5, lr
 796 002e 6F1C     		adds	r7, r5, #1
 797              	.L50:
 798              		.loc 1 268 70 discriminator 6 view .LVU277
 799 0030 1CF80750 		ldrb	r5, [ip, r7]	@ zero_extendqisi2
 800              		.loc 1 268 13 discriminator 6 view .LVU278
 801 0034 02EB0522 		add	r2, r2, r5, lsl #8
 802 0038 92B2     		uxth	r2, r2
 803              	.L49:
 804              	.LVL74:
 269:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c **** 
 270:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****      if ((q->optionFlags & CIRCULAR_QUEUE_NO_WRAP_FLAG) && !(q->optionFlags & CIRCULAR_QUEUE_SPLIT_
 805              		.loc 1 270 6 is_stmt 1 discriminator 8 view .LVU279
 806              		.loc 1 270 12 is_stmt 0 discriminator 8 view .LVU280
 807 003a 1D7F     		ldrb	r5, [r3, #28]	@ zero_extendqisi2
 808              		.loc 1 270 9 discriminator 8 view .LVU281
 809 003c 05F00305 		and	r5, r5, #3
 810 0040 012D     		cmp	r5, #1
 811 0042 20D0     		beq	.L65
 812              	.LVL75:
 813              	.L51:
 271:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****      {
 272:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****        if (((eltSize == 0xFFFF) && q->elementSize == 0 ) ||
 273:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****            ((q->first > q->last) && q->elementSize && ((q->queueMaxSize - q->first) < q->elementSiz
 274:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****        {
 275:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****           /* all data from current position up to the end of buffer are invalid */
 276:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****           q->byteCount -= (q->queueMaxSize - q->first);
 277:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****           /* Adjust first element pos */
 278:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****           q->first = 0;
 279:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****           /* retrieve the rigth size after the wrap [if varaible size element] */
 280:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****           eltSize = (q->elementSize == 0) ? q->qBuff[q->first] + ((q->qBuff[MOD((q->first+1), q->qu
 281:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****        }
 282:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****      }
 283:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c **** 
 284:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****     /* retreive element */
 285:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****     ptr = q->qBuff + (MOD((q->first + elemSizeStorageRoom), q->queueMaxSize));
 814              		.loc 1 285 5 is_stmt 1 view .LVU282
 815              		.loc 1 285 12 is_stmt 0 view .LVU283
 816 0044 1D68     		ldr	r5, [r3]
ARM GAS  /var/folders/lt/l_qrc8c54t93n_phsj7cf5tc0000gn/T//cchDC8hM.s 			page 23


 817              		.loc 1 285 23 view .LVU284
 818 0046 DE68     		ldr	r6, [r3, #12]
 819 0048 2746     		mov	r7, r4
 820 004a 3019     		adds	r0, r6, r4
 821 004c D3F804C0 		ldr	ip, [r3, #4]
 822 0050 6045     		cmp	r0, ip
 823 0052 01D3     		bcc	.L55
 824              		.loc 1 285 23 discriminator 1 view .LVU285
 825 0054 A0EB0C00 		sub	r0, r0, ip
 826              	.L55:
 827              		.loc 1 285 9 discriminator 4 view .LVU286
 828 0058 2844     		add	r0, r0, r5
 829              	.LVL76:
 286:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c **** 
 287:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****     /* adjust byte count */
 288:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****     q->byteCount -= (eltSize + elemSizeStorageRoom) ;
 830              		.loc 1 288 5 is_stmt 1 discriminator 4 view .LVU287
 831              		.loc 1 288 30 is_stmt 0 discriminator 4 view .LVU288
 832 005a 1444     		add	r4, r4, r2
 833              	.LVL77:
 834              		.loc 1 288 18 discriminator 4 view .LVU289
 835 005c 5D69     		ldr	r5, [r3, #20]
 836 005e 2C1B     		subs	r4, r5, r4
 837 0060 5C61     		str	r4, [r3, #20]
 289:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****     
 290:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****     /* Adjust q->first */
 291:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****     if (q->byteCount > 0)
 838              		.loc 1 291 5 is_stmt 1 discriminator 4 view .LVU290
 839              		.loc 1 291 8 is_stmt 0 discriminator 4 view .LVU291
 840 0062 34B1     		cbz	r4, .L56
 292:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****     {
 293:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****       q->first = MOD((q->first+ eltSize + elemSizeStorageRoom ), q->queueMaxSize);
 841              		.loc 1 293 7 is_stmt 1 view .LVU292
 842              		.loc 1 293 18 is_stmt 0 view .LVU293
 843 0064 1644     		add	r6, r6, r2
 844 0066 3E44     		add	r6, r6, r7
 845 0068 B445     		cmp	ip, r6
 846 006a 01D8     		bhi	.L57
 847              		.loc 1 293 18 discriminator 1 view .LVU294
 848 006c A6EB0C06 		sub	r6, r6, ip
 849              	.L57:
 850              		.loc 1 293 16 discriminator 4 view .LVU295
 851 0070 DE60     		str	r6, [r3, #12]
 852              	.L56:
 294:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****     }    
 295:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****     /* adjust element count */    
 296:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****     --q->elementCount;    
 853              		.loc 1 296 5 is_stmt 1 view .LVU296
 854              		.loc 1 296 8 is_stmt 0 view .LVU297
 855 0072 9C69     		ldr	r4, [r3, #24]
 856              		.loc 1 296 5 view .LVU298
 857 0074 013C     		subs	r4, r4, #1
 858 0076 9C61     		str	r4, [r3, #24]
 859              	.LVL78:
 860              	.L48:
 297:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****   }
 298:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****   if (elementSize != NULL)
ARM GAS  /var/folders/lt/l_qrc8c54t93n_phsj7cf5tc0000gn/T//cchDC8hM.s 			page 24


 861              		.loc 1 298 3 is_stmt 1 view .LVU299
 862              		.loc 1 298 6 is_stmt 0 view .LVU300
 863 0078 01B1     		cbz	r1, .L46
 299:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****   {
 300:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****     *elementSize = eltSize;
 864              		.loc 1 300 5 is_stmt 1 view .LVU301
 865              		.loc 1 300 18 is_stmt 0 view .LVU302
 866 007a 0A80     		strh	r2, [r1]	@ movhi
 301:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****   }
 302:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****   return ptr;
 867              		.loc 1 302 3 is_stmt 1 view .LVU303
 868              	.L46:
 303:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c **** }
 869              		.loc 1 303 1 is_stmt 0 view .LVU304
 870 007c F0BD     		pop	{r4, r5, r6, r7, pc}
 871              	.LVL79:
 872              	.L59:
 263:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****   uint16_t eltSize = 0;
 873              		.loc 1 263 23 view .LVU305
 874 007e 0024     		movs	r4, #0
 875 0080 C4E7     		b	.L47
 876              	.LVL80:
 877              	.L61:
 268:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c **** 
 878              		.loc 1 268 13 view .LVU306
 879 0082 0246     		mov	r2, r0
 880 0084 D9E7     		b	.L49
 881              	.LVL81:
 882              	.L65:
 272:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****            ((q->first > q->last) && q->elementSize && ((q->queueMaxSize - q->first) < q->elementSiz
 883              		.loc 1 272 8 is_stmt 1 view .LVU307
 272:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****            ((q->first > q->last) && q->elementSize && ((q->queueMaxSize - q->first) < q->elementSiz
 884              		.loc 1 272 11 is_stmt 0 view .LVU308
 885 0086 4FF6FF75 		movw	r5, #65535
 886 008a AA42     		cmp	r2, r5
 887 008c 0AD0     		beq	.L66
 888              	.L52:
 273:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****        {
 889              		.loc 1 273 15 discriminator 3 view .LVU309
 890 008e DD68     		ldr	r5, [r3, #12]
 273:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****        {
 891              		.loc 1 273 26 discriminator 3 view .LVU310
 892 0090 1F69     		ldr	r7, [r3, #16]
 272:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****            ((q->first > q->last) && q->elementSize && ((q->queueMaxSize - q->first) < q->elementSiz
 893              		.loc 1 272 58 discriminator 3 view .LVU311
 894 0092 BD42     		cmp	r5, r7
 895 0094 D6D9     		bls	.L51
 273:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****        {
 896              		.loc 1 273 34 view .LVU312
 897 0096 0028     		cmp	r0, #0
 898 0098 D4D0     		beq	.L51
 273:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****        {
 899              		.loc 1 273 58 discriminator 1 view .LVU313
 900 009a 5F68     		ldr	r7, [r3, #4]
 273:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****        {
 901              		.loc 1 273 73 discriminator 1 view .LVU314
 902 009c 7D1B     		subs	r5, r7, r5
ARM GAS  /var/folders/lt/l_qrc8c54t93n_phsj7cf5tc0000gn/T//cchDC8hM.s 			page 25


 273:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****        {
 903              		.loc 1 273 52 discriminator 1 view .LVU315
 904 009e 8542     		cmp	r5, r0
 905 00a0 D0D2     		bcs	.L51
 906 00a2 01E0     		b	.L53
 907              	.L66:
 272:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****            ((q->first > q->last) && q->elementSize && ((q->queueMaxSize - q->first) < q->elementSiz
 908              		.loc 1 272 33 discriminator 1 view .LVU316
 909 00a4 0028     		cmp	r0, #0
 910 00a6 F2D1     		bne	.L52
 911              	.L53:
 276:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****           /* Adjust first element pos */
 912              		.loc 1 276 11 is_stmt 1 view .LVU317
 276:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****           /* Adjust first element pos */
 913              		.loc 1 276 47 is_stmt 0 view .LVU318
 914 00a8 DA68     		ldr	r2, [r3, #12]
 915              	.LVL82:
 276:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****           /* Adjust first element pos */
 916              		.loc 1 276 29 view .LVU319
 917 00aa 5D68     		ldr	r5, [r3, #4]
 276:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****           /* Adjust first element pos */
 918              		.loc 1 276 24 view .LVU320
 919 00ac 521B     		subs	r2, r2, r5
 920 00ae 1644     		add	r6, r6, r2
 921 00b0 5E61     		str	r6, [r3, #20]
 278:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****           /* retrieve the rigth size after the wrap [if varaible size element] */
 922              		.loc 1 278 11 is_stmt 1 view .LVU321
 278:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****           /* retrieve the rigth size after the wrap [if varaible size element] */
 923              		.loc 1 278 20 is_stmt 0 view .LVU322
 924 00b2 0022     		movs	r2, #0
 925 00b4 DA60     		str	r2, [r3, #12]
 280:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****        }
 926              		.loc 1 280 11 is_stmt 1 view .LVU323
 280:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****        }
 927              		.loc 1 280 19 is_stmt 0 view .LVU324
 928 00b6 60B9     		cbnz	r0, .L62
 280:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****        }
 929              		.loc 1 280 46 discriminator 1 view .LVU325
 930 00b8 1868     		ldr	r0, [r3]
 280:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****        }
 931              		.loc 1 280 53 discriminator 1 view .LVU326
 932 00ba 0278     		ldrb	r2, [r0]	@ zero_extendqisi2
 280:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****        }
 933              		.loc 1 280 77 discriminator 1 view .LVU327
 934 00bc 012D     		cmp	r5, #1
 935 00be 05D9     		bls	.L67
 280:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****        }
 936              		.loc 1 280 77 view .LVU328
 937 00c0 0125     		movs	r5, #1
 938              	.L54:
 280:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****        }
 939              		.loc 1 280 76 discriminator 6 view .LVU329
 940 00c2 405D     		ldrb	r0, [r0, r5]	@ zero_extendqisi2
 280:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****        }
 941              		.loc 1 280 19 discriminator 6 view .LVU330
 942 00c4 02EB0022 		add	r2, r2, r0, lsl #8
 943 00c8 92B2     		uxth	r2, r2
ARM GAS  /var/folders/lt/l_qrc8c54t93n_phsj7cf5tc0000gn/T//cchDC8hM.s 			page 26


 944 00ca BBE7     		b	.L51
 945              	.L67:
 280:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****        }
 946              		.loc 1 280 77 discriminator 3 view .LVU331
 947 00cc C5F10105 		rsb	r5, r5, #1
 948 00d0 F7E7     		b	.L54
 949              	.L62:
 280:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****        }
 950              		.loc 1 280 19 view .LVU332
 951 00d2 0246     		mov	r2, r0
 952 00d4 B6E7     		b	.L51
 953              	.LVL83:
 954              	.L60:
 264:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****   if (q->byteCount > 0) 
 955              		.loc 1 264 12 view .LVU333
 956 00d6 0022     		movs	r2, #0
 262:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****   elemSizeStorageRoom = (q->elementSize == 0) ? 2 : 0;
 957              		.loc 1 262 12 view .LVU334
 958 00d8 1046     		mov	r0, r2
 959 00da CDE7     		b	.L48
 960              		.cfi_endproc
 961              	.LFE1264:
 963              		.section	.text.CircularQueue_Sense_Copy,"ax",%progbits
 964              		.align	1
 965              		.global	CircularQueue_Sense_Copy
 966              		.syntax unified
 967              		.thumb
 968              		.thumb_func
 969              		.fpu fpv4-sp-d16
 971              	CircularQueue_Sense_Copy:
 972              	.LVL84:
 973              	.LFB1265:
 304:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c **** 
 305:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c **** 
 306:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c **** /**
 307:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****   * @brief  "Sense" first element of the queue, without removing it and copy it in provided buffer
 308:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****   * @note   This function is used to return a pointer on the first element of the queue without rem
 309:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****   * @param  q: pointer on queue structure  to be handled
 310:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****   * @param  elementSize:  Pointer to return Size of element to be removed  
 311:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****   * @param  buffer: destination buffer where to copy element
 312:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****   * @retval Pointer on sensed element. NULL if queue was empty
 313:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****   */
 314:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c **** 
 315:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c **** uint8_t* CircularQueue_Sense_Copy(queue_t *q, uint16_t* elementSize, uint8_t* buffer)
 316:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c **** {
 974              		.loc 1 316 1 is_stmt 1 view -0
 975              		.cfi_startproc
 976              		@ args = 0, pretend = 0, frame = 0
 977              		@ frame_needed = 0, uses_anonymous_args = 0
 978              		@ link register save eliminated.
 317:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****     return NULL;
 979              		.loc 1 317 5 view .LVU336
 318:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c **** }
 980              		.loc 1 318 1 is_stmt 0 view .LVU337
 981 0000 0020     		movs	r0, #0
 982              	.LVL85:
 983              		.loc 1 318 1 view .LVU338
ARM GAS  /var/folders/lt/l_qrc8c54t93n_phsj7cf5tc0000gn/T//cchDC8hM.s 			page 27


 984 0002 7047     		bx	lr
 985              		.cfi_endproc
 986              	.LFE1265:
 988              		.section	.text.CircularQueue_Sense,"ax",%progbits
 989              		.align	1
 990              		.global	CircularQueue_Sense
 991              		.syntax unified
 992              		.thumb
 993              		.thumb_func
 994              		.fpu fpv4-sp-d16
 996              	CircularQueue_Sense:
 997              	.LVL86:
 998              	.LFB1266:
 319:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c **** 
 320:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c **** 
 321:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c **** /**
 322:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****   * @brief  "Sense" first element of the queue, without removing it.
 323:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****   * @note   This function is used to return a pointer on the first element of the queue without rem
 324:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****   * @param  q: pointer on queue structure  to be handled
 325:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****   * @param  elementSize:  Pointer to return Size of element to be removed (ignored if NULL)
 326:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****   * @retval Pointer on sensed element. NULL if queue was empty
 327:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****   */
 328:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c **** uint8_t* CircularQueue_Sense(queue_t *q, uint16_t* elementSize)
 329:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c **** {
 999              		.loc 1 329 1 is_stmt 1 view -0
 1000              		.cfi_startproc
 1001              		@ args = 0, pretend = 0, frame = 0
 1002              		@ frame_needed = 0, uses_anonymous_args = 0
 1003              		@ link register save eliminated.
 1004              		.loc 1 329 1 is_stmt 0 view .LVU340
 1005 0000 F0B4     		push	{r4, r5, r6, r7}
 1006              	.LCFI8:
 1007              		.cfi_def_cfa_offset 16
 1008              		.cfi_offset 4, -16
 1009              		.cfi_offset 5, -12
 1010              		.cfi_offset 6, -8
 1011              		.cfi_offset 7, -4
 330:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****   uint8_t  elemSizeStorageRoom = 0;
 1012              		.loc 1 330 3 is_stmt 1 view .LVU341
 1013              	.LVL87:
 331:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****   uint8_t* x= NULL;
 1014              		.loc 1 331 3 view .LVU342
 332:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****   elemSizeStorageRoom = (q->elementSize == 0) ? 2 : 0;
 1015              		.loc 1 332 3 view .LVU343
 1016              		.loc 1 332 27 is_stmt 0 view .LVU344
 1017 0002 0589     		ldrh	r5, [r0, #8]
 1018              		.loc 1 332 23 view .LVU345
 1019 0004 25BB     		cbnz	r5, .L80
 1020 0006 0223     		movs	r3, #2
 1021              	.L70:
 1022              	.LVL88:
 333:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****   uint16_t eltSize = 0;
 1023              		.loc 1 333 3 is_stmt 1 discriminator 4 view .LVU346
 334:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****   uint32_t FirstElemetPos = 0;
 1024              		.loc 1 334 3 discriminator 4 view .LVU347
 335:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****     
 336:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****   if (q->byteCount > 0) 
ARM GAS  /var/folders/lt/l_qrc8c54t93n_phsj7cf5tc0000gn/T//cchDC8hM.s 			page 28


 1025              		.loc 1 336 3 discriminator 4 view .LVU348
 1026              		.loc 1 336 8 is_stmt 0 discriminator 4 view .LVU349
 1027 0008 4269     		ldr	r2, [r0, #20]
 1028              		.loc 1 336 6 discriminator 4 view .LVU350
 1029 000a 002A     		cmp	r2, #0
 1030 000c 47D0     		beq	.L81
 337:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****   {
 338:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****     FirstElemetPos = q->first;
 1031              		.loc 1 338 5 is_stmt 1 view .LVU351
 1032              		.loc 1 338 20 is_stmt 0 view .LVU352
 1033 000e C668     		ldr	r6, [r0, #12]
 1034              	.LVL89:
 339:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****     eltSize = (q->elementSize == 0) ? q->qBuff[q->first] + ((q->qBuff[MOD((q->first+1), q->queueMax
 1035              		.loc 1 339 5 is_stmt 1 view .LVU353
 1036              		.loc 1 339 13 is_stmt 0 view .LVU354
 1037 0010 05BB     		cbnz	r5, .L82
 1038              		.loc 1 339 40 discriminator 1 view .LVU355
 1039 0012 D0F800C0 		ldr	ip, [r0]
 1040              		.loc 1 339 47 discriminator 1 view .LVU356
 1041 0016 1CF80620 		ldrb	r2, [ip, r6]	@ zero_extendqisi2
 1042              		.loc 1 339 71 discriminator 1 view .LVU357
 1043 001a 741C     		adds	r4, r6, #1
 1044 001c 4768     		ldr	r7, [r0, #4]
 1045 001e BC42     		cmp	r4, r7
 1046 0020 01D3     		bcc	.L73
 1047              		.loc 1 339 71 discriminator 3 view .LVU358
 1048 0022 F41B     		subs	r4, r6, r7
 1049 0024 0134     		adds	r4, r4, #1
 1050              	.L73:
 1051              		.loc 1 339 70 discriminator 6 view .LVU359
 1052 0026 1CF80440 		ldrb	r4, [ip, r4]	@ zero_extendqisi2
 1053              		.loc 1 339 13 discriminator 6 view .LVU360
 1054 002a 02EB0422 		add	r2, r2, r4, lsl #8
 1055 002e 92B2     		uxth	r2, r2
 1056              	.L72:
 1057              	.LVL90:
 340:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****     
 341:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****     if ((q->optionFlags & CIRCULAR_QUEUE_NO_WRAP_FLAG) && !(q->optionFlags & CIRCULAR_QUEUE_SPLIT_I
 1058              		.loc 1 341 5 is_stmt 1 discriminator 8 view .LVU361
 1059              		.loc 1 341 11 is_stmt 0 discriminator 8 view .LVU362
 1060 0030 047F     		ldrb	r4, [r0, #28]	@ zero_extendqisi2
 1061              		.loc 1 341 8 discriminator 8 view .LVU363
 1062 0032 04F00304 		and	r4, r4, #3
 1063 0036 012C     		cmp	r4, #1
 1064 0038 0ED0     		beq	.L86
 1065              	.LVL91:
 1066              	.L74:
 342:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****     { 
 343:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****       if (((eltSize == 0xFFFF) && q->elementSize == 0 ) ||
 344:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****           ((q->first > q->last) && q->elementSize && ((q->queueMaxSize - q->first) < q->elementSize
 345:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c **** 
 346:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****       {
 347:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****         /* all data from current position up to the end of buffer are invalid */
 348:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****         FirstElemetPos = 0; /* wrap to the begiining of buffer */
 349:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c **** 
 350:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****         /* retrieve the rigth size after the wrap [if varaible size element] */
 351:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****         eltSize = (q->elementSize == 0) ? q->qBuff[FirstElemetPos]+ ((q->qBuff[MOD((FirstElemetPos+
ARM GAS  /var/folders/lt/l_qrc8c54t93n_phsj7cf5tc0000gn/T//cchDC8hM.s 			page 29


 352:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****       }
 353:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****    }
 354:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****    /* retrieve element */
 355:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****     x = q->qBuff + (MOD((FirstElemetPos + elemSizeStorageRoom), q->queueMaxSize));
 1067              		.loc 1 355 5 is_stmt 1 view .LVU364
 1068              		.loc 1 355 10 is_stmt 0 view .LVU365
 1069 003a 0468     		ldr	r4, [r0]
 1070              		.loc 1 355 21 view .LVU366
 1071 003c 3344     		add	r3, r3, r6
 1072              	.LVL92:
 1073              		.loc 1 355 21 view .LVU367
 1074 003e 4068     		ldr	r0, [r0, #4]
 1075              	.LVL93:
 1076              		.loc 1 355 21 view .LVU368
 1077 0040 8342     		cmp	r3, r0
 1078 0042 00D3     		bcc	.L78
 1079              		.loc 1 355 21 discriminator 1 view .LVU369
 1080 0044 1B1A     		subs	r3, r3, r0
 1081              	.L78:
 1082              		.loc 1 355 7 discriminator 4 view .LVU370
 1083 0046 E018     		adds	r0, r4, r3
 1084              	.LVL94:
 1085              	.L71:
 356:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****   }
 357:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****   if (elementSize != NULL)
 1086              		.loc 1 357 3 is_stmt 1 view .LVU371
 1087              		.loc 1 357 6 is_stmt 0 view .LVU372
 1088 0048 01B1     		cbz	r1, .L69
 358:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****   {
 359:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****     *elementSize = eltSize;
 1089              		.loc 1 359 5 is_stmt 1 view .LVU373
 1090              		.loc 1 359 18 is_stmt 0 view .LVU374
 1091 004a 0A80     		strh	r2, [r1]	@ movhi
 360:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****   }
 361:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****   return x;
 1092              		.loc 1 361 3 is_stmt 1 view .LVU375
 1093              	.L69:
 362:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c **** }
 1094              		.loc 1 362 1 is_stmt 0 view .LVU376
 1095 004c F0BC     		pop	{r4, r5, r6, r7}
 1096              	.LCFI9:
 1097              		.cfi_remember_state
 1098              		.cfi_restore 7
 1099              		.cfi_restore 6
 1100              		.cfi_restore 5
 1101              		.cfi_restore 4
 1102              		.cfi_def_cfa_offset 0
 1103 004e 7047     		bx	lr
 1104              	.LVL95:
 1105              	.L80:
 1106              	.LCFI10:
 1107              		.cfi_restore_state
 332:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****   uint16_t eltSize = 0;
 1108              		.loc 1 332 23 view .LVU377
 1109 0050 0023     		movs	r3, #0
 1110 0052 D9E7     		b	.L70
 1111              	.LVL96:
ARM GAS  /var/folders/lt/l_qrc8c54t93n_phsj7cf5tc0000gn/T//cchDC8hM.s 			page 30


 1112              	.L82:
 339:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****     
 1113              		.loc 1 339 13 view .LVU378
 1114 0054 2A46     		mov	r2, r5
 1115 0056 EBE7     		b	.L72
 1116              	.LVL97:
 1117              	.L86:
 343:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****           ((q->first > q->last) && q->elementSize && ((q->queueMaxSize - q->first) < q->elementSize
 1118              		.loc 1 343 7 is_stmt 1 view .LVU379
 343:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****           ((q->first > q->last) && q->elementSize && ((q->queueMaxSize - q->first) < q->elementSize
 1119              		.loc 1 343 10 is_stmt 0 view .LVU380
 1120 0058 4FF6FF74 		movw	r4, #65535
 1121 005c A242     		cmp	r2, r4
 1122 005e 09D0     		beq	.L87
 1123              	.L75:
 344:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c **** 
 1124              		.loc 1 344 25 discriminator 3 view .LVU381
 1125 0060 0469     		ldr	r4, [r0, #16]
 343:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****           ((q->first > q->last) && q->elementSize && ((q->queueMaxSize - q->first) < q->elementSize
 1126              		.loc 1 343 57 discriminator 3 view .LVU382
 1127 0062 B442     		cmp	r4, r6
 1128 0064 E9D2     		bcs	.L74
 344:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c **** 
 1129              		.loc 1 344 33 view .LVU383
 1130 0066 002D     		cmp	r5, #0
 1131 0068 E7D0     		beq	.L74
 344:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c **** 
 1132              		.loc 1 344 57 discriminator 1 view .LVU384
 1133 006a 4468     		ldr	r4, [r0, #4]
 344:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c **** 
 1134              		.loc 1 344 72 discriminator 1 view .LVU385
 1135 006c A41B     		subs	r4, r4, r6
 344:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c **** 
 1136              		.loc 1 344 51 discriminator 1 view .LVU386
 1137 006e AC42     		cmp	r4, r5
 1138 0070 E3D2     		bcs	.L74
 1139 0072 01E0     		b	.L76
 1140              	.L87:
 343:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****           ((q->first > q->last) && q->elementSize && ((q->queueMaxSize - q->first) < q->elementSize
 1141              		.loc 1 343 32 discriminator 1 view .LVU387
 1142 0074 002D     		cmp	r5, #0
 1143 0076 F3D1     		bne	.L75
 1144              	.L76:
 348:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c **** 
 1145              		.loc 1 348 9 is_stmt 1 view .LVU388
 1146              	.LVL98:
 351:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****       }
 1147              		.loc 1 351 9 view .LVU389
 351:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****       }
 1148              		.loc 1 351 17 is_stmt 0 view .LVU390
 1149 0078 75B9     		cbnz	r5, .L83
 351:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****       }
 1150              		.loc 1 351 44 discriminator 1 view .LVU391
 1151 007a 0568     		ldr	r5, [r0]
 351:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****       }
 1152              		.loc 1 351 51 discriminator 1 view .LVU392
 1153 007c 2A78     		ldrb	r2, [r5]	@ zero_extendqisi2
ARM GAS  /var/folders/lt/l_qrc8c54t93n_phsj7cf5tc0000gn/T//cchDC8hM.s 			page 31


 1154              	.LVL99:
 351:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****       }
 1155              		.loc 1 351 80 discriminator 1 view .LVU393
 1156 007e 4468     		ldr	r4, [r0, #4]
 1157 0080 012C     		cmp	r4, #1
 1158 0082 06D9     		bls	.L88
 351:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****       }
 1159              		.loc 1 351 80 view .LVU394
 1160 0084 0124     		movs	r4, #1
 1161              	.L77:
 351:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****       }
 1162              		.loc 1 351 79 discriminator 6 view .LVU395
 1163 0086 2C5D     		ldrb	r4, [r5, r4]	@ zero_extendqisi2
 351:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****       }
 1164              		.loc 1 351 17 discriminator 6 view .LVU396
 1165 0088 02EB0422 		add	r2, r2, r4, lsl #8
 1166 008c 92B2     		uxth	r2, r2
 348:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c **** 
 1167              		.loc 1 348 24 discriminator 6 view .LVU397
 1168 008e 0026     		movs	r6, #0
 1169 0090 D3E7     		b	.L74
 1170              	.L88:
 1171 0092 C4F10104 		rsb	r4, r4, #1
 1172 0096 F6E7     		b	.L77
 1173              	.LVL100:
 1174              	.L83:
 351:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****       }
 1175              		.loc 1 351 17 view .LVU398
 1176 0098 2A46     		mov	r2, r5
 1177              	.LVL101:
 348:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c **** 
 1178              		.loc 1 348 24 view .LVU399
 1179 009a 0026     		movs	r6, #0
 1180 009c CDE7     		b	.L74
 1181              	.LVL102:
 1182              	.L81:
 333:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****   uint32_t FirstElemetPos = 0;
 1183              		.loc 1 333 12 view .LVU400
 1184 009e 0022     		movs	r2, #0
 331:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****   elemSizeStorageRoom = (q->elementSize == 0) ? 2 : 0;
 1185              		.loc 1 331 12 view .LVU401
 1186 00a0 1046     		mov	r0, r2
 1187              	.LVL103:
 331:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****   elemSizeStorageRoom = (q->elementSize == 0) ? 2 : 0;
 1188              		.loc 1 331 12 view .LVU402
 1189 00a2 D1E7     		b	.L71
 1190              		.cfi_endproc
 1191              	.LFE1266:
 1193              		.section	.text.CircularQueue_Empty,"ax",%progbits
 1194              		.align	1
 1195              		.global	CircularQueue_Empty
 1196              		.syntax unified
 1197              		.thumb
 1198              		.thumb_func
 1199              		.fpu fpv4-sp-d16
 1201              	CircularQueue_Empty:
 1202              	.LVL104:
ARM GAS  /var/folders/lt/l_qrc8c54t93n_phsj7cf5tc0000gn/T//cchDC8hM.s 			page 32


 1203              	.LFB1267:
 363:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c **** 
 364:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c **** /**
 365:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****   * @brief   Check if queue is empty.
 366:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****   * @note    This function is used to to check if the queue is empty.  
 367:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****   * @param  q: pointer on queue structure  to be handled
 368:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****   * @retval   TRUE (!0) if the queue is empyu otherwise FALSE (0)
 369:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****   */
 370:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c **** int CircularQueue_Empty(queue_t *q)
 371:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c **** {
 1204              		.loc 1 371 1 is_stmt 1 view -0
 1205              		.cfi_startproc
 1206              		@ args = 0, pretend = 0, frame = 0
 1207              		@ frame_needed = 0, uses_anonymous_args = 0
 1208              		@ link register save eliminated.
 372:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****   int ret=FALSE;
 1209              		.loc 1 372 3 view .LVU404
 373:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****   if (q->byteCount <= 0) 
 1210              		.loc 1 373 3 view .LVU405
 1211              		.loc 1 373 8 is_stmt 0 view .LVU406
 1212 0000 4369     		ldr	r3, [r0, #20]
 1213              		.loc 1 373 6 view .LVU407
 1214 0002 0BB1     		cbz	r3, .L91
 372:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****   int ret=FALSE;
 1215              		.loc 1 372 7 view .LVU408
 1216 0004 0020     		movs	r0, #0
 1217              	.LVL105:
 372:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****   int ret=FALSE;
 1218              		.loc 1 372 7 view .LVU409
 1219 0006 7047     		bx	lr
 1220              	.LVL106:
 1221              	.L91:
 374:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****   {
 375:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****     ret=TRUE;
 1222              		.loc 1 375 8 view .LVU410
 1223 0008 0120     		movs	r0, #1
 1224              	.LVL107:
 376:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****   } 
 377:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****   return ret;
 1225              		.loc 1 377 3 is_stmt 1 view .LVU411
 378:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c **** }
 1226              		.loc 1 378 1 is_stmt 0 view .LVU412
 1227 000a 7047     		bx	lr
 1228              		.cfi_endproc
 1229              	.LFE1267:
 1231              		.section	.text.CircularQueue_NbElement,"ax",%progbits
 1232              		.align	1
 1233              		.global	CircularQueue_NbElement
 1234              		.syntax unified
 1235              		.thumb
 1236              		.thumb_func
 1237              		.fpu fpv4-sp-d16
 1239              	CircularQueue_NbElement:
 1240              	.LVL108:
 1241              	.LFB1268:
 379:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c **** 
 380:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c **** int CircularQueue_NbElement(queue_t *q)
ARM GAS  /var/folders/lt/l_qrc8c54t93n_phsj7cf5tc0000gn/T//cchDC8hM.s 			page 33


 381:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c **** {
 1242              		.loc 1 381 1 is_stmt 1 view -0
 1243              		.cfi_startproc
 1244              		@ args = 0, pretend = 0, frame = 0
 1245              		@ frame_needed = 0, uses_anonymous_args = 0
 1246              		@ link register save eliminated.
 382:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c ****   return q->elementCount;
 1247              		.loc 1 382 3 view .LVU414
 383:Middlewares/ST/STM32_WPAN/utilities/stm_queue.c **** }
 1248              		.loc 1 383 1 is_stmt 0 view .LVU415
 1249 0000 8069     		ldr	r0, [r0, #24]
 1250              	.LVL109:
 1251              		.loc 1 383 1 view .LVU416
 1252 0002 7047     		bx	lr
 1253              		.cfi_endproc
 1254              	.LFE1268:
 1256              		.text
 1257              	.Letext0:
 1258              		.file 2 "/usr/local/Cellar/arm-none-eabi-gcc/9-2019-q4-major/gcc/arm-none-eabi/include/machine/_de
 1259              		.file 3 "/usr/local/Cellar/arm-none-eabi-gcc/9-2019-q4-major/gcc/arm-none-eabi/include/sys/_stdint
 1260              		.file 4 "/usr/local/Cellar/arm-none-eabi-gcc/9-2019-q4-major/gcc/arm-none-eabi/include/sys/lock.h"
 1261              		.file 5 "/usr/local/Cellar/arm-none-eabi-gcc/9-2019-q4-major/gcc/arm-none-eabi/include/sys/_types.
 1262              		.file 6 "/usr/local/Cellar/arm-none-eabi-gcc/9-2019-q4-major/gcc/lib/gcc/arm-none-eabi/9.2.1/inclu
 1263              		.file 7 "/usr/local/Cellar/arm-none-eabi-gcc/9-2019-q4-major/gcc/arm-none-eabi/include/sys/reent.h
 1264              		.file 8 "/usr/local/Cellar/arm-none-eabi-gcc/9-2019-q4-major/gcc/arm-none-eabi/include/stdlib.h"
 1265              		.file 9 "Drivers/CMSIS/Include/core_cm4.h"
 1266              		.file 10 "Drivers/CMSIS/Device/ST/STM32WBxx/Include/system_stm32wbxx.h"
 1267              		.file 11 "Drivers/STM32WBxx_HAL_Driver/Inc/stm32wbxx_hal_def.h"
 1268              		.file 12 "Drivers/STM32WBxx_HAL_Driver/Inc/stm32wbxx_hal_flash.h"
 1269              		.file 13 "Drivers/STM32WBxx_HAL_Driver/Inc/stm32wbxx_hal_uart.h"
 1270              		.file 14 "Drivers/STM32WBxx_HAL_Driver/Inc/stm32wbxx_hal.h"
 1271              		.file 15 "Middlewares/ST/STM32_WPAN/utilities/stm_queue.h"
 1272              		.file 16 "<built-in>"
ARM GAS  /var/folders/lt/l_qrc8c54t93n_phsj7cf5tc0000gn/T//cchDC8hM.s 			page 34


DEFINED SYMBOLS
                            *ABS*:0000000000000000 stm_queue.c
/var/folders/lt/l_qrc8c54t93n_phsj7cf5tc0000gn/T//cchDC8hM.s:18     .text.CircularQueue_Init:0000000000000000 $t
/var/folders/lt/l_qrc8c54t93n_phsj7cf5tc0000gn/T//cchDC8hM.s:26     .text.CircularQueue_Init:0000000000000000 CircularQueue_Init
/var/folders/lt/l_qrc8c54t93n_phsj7cf5tc0000gn/T//cchDC8hM.s:107    .text.CircularQueue_Add:0000000000000000 $t
/var/folders/lt/l_qrc8c54t93n_phsj7cf5tc0000gn/T//cchDC8hM.s:114    .text.CircularQueue_Add:0000000000000000 CircularQueue_Add
/var/folders/lt/l_qrc8c54t93n_phsj7cf5tc0000gn/T//cchDC8hM.s:710    .text.CircularQueue_Remove_Copy:0000000000000000 $t
/var/folders/lt/l_qrc8c54t93n_phsj7cf5tc0000gn/T//cchDC8hM.s:717    .text.CircularQueue_Remove_Copy:0000000000000000 CircularQueue_Remove_Copy
/var/folders/lt/l_qrc8c54t93n_phsj7cf5tc0000gn/T//cchDC8hM.s:735    .text.CircularQueue_Remove:0000000000000000 $t
/var/folders/lt/l_qrc8c54t93n_phsj7cf5tc0000gn/T//cchDC8hM.s:742    .text.CircularQueue_Remove:0000000000000000 CircularQueue_Remove
/var/folders/lt/l_qrc8c54t93n_phsj7cf5tc0000gn/T//cchDC8hM.s:964    .text.CircularQueue_Sense_Copy:0000000000000000 $t
/var/folders/lt/l_qrc8c54t93n_phsj7cf5tc0000gn/T//cchDC8hM.s:971    .text.CircularQueue_Sense_Copy:0000000000000000 CircularQueue_Sense_Copy
/var/folders/lt/l_qrc8c54t93n_phsj7cf5tc0000gn/T//cchDC8hM.s:989    .text.CircularQueue_Sense:0000000000000000 $t
/var/folders/lt/l_qrc8c54t93n_phsj7cf5tc0000gn/T//cchDC8hM.s:996    .text.CircularQueue_Sense:0000000000000000 CircularQueue_Sense
/var/folders/lt/l_qrc8c54t93n_phsj7cf5tc0000gn/T//cchDC8hM.s:1194   .text.CircularQueue_Empty:0000000000000000 $t
/var/folders/lt/l_qrc8c54t93n_phsj7cf5tc0000gn/T//cchDC8hM.s:1201   .text.CircularQueue_Empty:0000000000000000 CircularQueue_Empty
/var/folders/lt/l_qrc8c54t93n_phsj7cf5tc0000gn/T//cchDC8hM.s:1232   .text.CircularQueue_NbElement:0000000000000000 $t
/var/folders/lt/l_qrc8c54t93n_phsj7cf5tc0000gn/T//cchDC8hM.s:1239   .text.CircularQueue_NbElement:0000000000000000 CircularQueue_NbElement

UNDEFINED SYMBOLS
memcpy
